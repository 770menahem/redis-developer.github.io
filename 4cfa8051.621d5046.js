(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{160:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return l})),a.d(t,"toc",(function(){return i})),a.d(t,"default",(function(){return p}));var r=a(3),c=a(7),n=(a(0),a(333)),o=(a(335),{id:"index-vercel",title:"Getting Started with Vercel and Redis",sidebar_label:"Getting Started with Vercel and Redis",slug:"/create/vercel"}),l={unversionedId:"create/vercel/index-vercel",id:"create/vercel/index-vercel",isDocsHomePage:!1,title:"Getting Started with Vercel and Redis",description:"Vercel is a popular static web hosting serverless platform for frontend developers. The platform allows developers to host websites and web services, deploy instantly, and scale automatically with minimal configuration.",source:"@site/docs/create/vercel/index-vercel.mdx",slug:"/create/vercel",permalink:"/create/vercel",editUrl:"https://github.com/redis-developer/redis-developer/edit/master/docs/create/vercel/index-vercel.mdx",version:"current",lastUpdatedAt:1645442770,sidebar_label:"Getting Started with Vercel and Redis",sidebar:"docs",previous:{title:"How to Deploy Docusaurus to Netlify in 5 Minutes",permalink:"/create/netlify/deploy-docusaurus-to-netlify"},next:{title:"Develop your application using programming languages",permalink:"/develop"}},i=[{value:"Features of Vercel",id:"features-of-vercel",children:[]},{value:"Table of Contents",id:"table-of-contents",children:[]},{value:"Step 1. Set up a free Redis Enterprise Cloud account",id:"step-1-set-up-a-free-redis-enterprise-cloud-account",children:[]},{value:"Step 2. Install Vercel CLI",id:"step-2-install-vercel-cli",children:[]},{value:"Step 3. Log in to your Vercel account",id:"step-3-log-in-to-your-vercel-account",children:[]},{value:"Step 4. Clone the GitHub repository",id:"step-4-clone-the-github-repository",children:[]},{value:"Step 5. Create a vercel.json for Node.js app",id:"step-5-create-a-verceljson-for-nodejs-app",children:[]},{value:"Step 6. Set up environment variables",id:"step-6-set-up-environment-variables",children:[]},{value:"Step 7. Deploy the Node.js app",id:"step-7-deploy-the-nodejs-app",children:[]},{value:"Step 8. Accessing the app",id:"step-8-accessing-the-app",children:[]},{value:"References",id:"references",children:[]}],s={toc:i};function p(e){var t=e.components,o=Object(c.a)(e,["components"]);return Object(n.b)("wrapper",Object(r.a)({},s,o,{components:t,mdxType:"MDXLayout"}),Object(n.b)("p",null,Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://vercel.com/"}),"Vercel "),"is a popular static web hosting serverless platform for frontend developers. The platform allows developers to host websites and web services, deploy instantly, and scale automatically with minimal configuration."),Object(n.b)("p",null,"Vercel is the preferred platform to host ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://vercel.com/docs/concepts/next.js/overview"}),"Next.js-based web applications"),". It allows you to deploy serverless functions that take an HTTP request and provide a response. You can use ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://vercel.com/docs/concepts/functions/serverless-functions"}),"serverless functions")," to handle user authentication, form submission, database queries, custom Slack commands, and more."),Object(n.b)("p",null,"Vercel integrates well with popular tools, such as ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://vercel.com/docs/concepts/git/vercel-for-github"}),"GitHub"),", ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://vercel.com/docs/concepts/git/vercel-for-gitlab"}),"GitLab"),", ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://vercel.com/integrations/lighthouse"}),"Lighthouse"),", ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://vercel.com/integrations/doppler"}),"Doppler"),", and ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://divjoy.com/"}),"Divjoy"),". NodeJS, Go, Python, and Ruby are the leading ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://vercel.com/docs/runtimes"}),"official runtimes supported by Vercel"),"."),Object(n.b)("p",null,Object(n.b)("img",{alt:"alt_text",src:a(679).default,title:"image_tooltip"})),Object(n.b)("h3",{id:"features-of-vercel"},"Features of Vercel"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Vercel is focused on the build and deployment aspects of the ",Object(n.b)("a",Object(r.a)({parentName:"li"},{href:"https://jamstack.org/what-is-jamstack/"}),"JAMstack approach"),"."),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",Object(r.a)({parentName:"li"},{href:"https://vercel.com/docs/rest-api"}),"The Vercel API")," provides full control over the Vercel platform, exposed as simple HTTP service endpoints over SSL. "),Object(n.b)("li",{parentName:"ul"},"All endpoints live under the URL ",Object(n.b)("a",Object(r.a)({parentName:"li"},{href:"https://api.vercel.com"}),"https://api.vercel.com")," and follow the REST architecture."),Object(n.b)("li",{parentName:"ul"},"Vercel provides custom domains to deploy your code on the live server (vercel.app as the suffix in the domain). "),Object(n.b)("li",{parentName:"ul"},"Vercel provides you with an option to choose any framework of the repository you wish to deploy either Node.js, React, Gatsby, or ",Object(n.b)("a",Object(r.a)({parentName:"li"},{href:"https://nextjs.org/"}),"Next.js")," (a full-stack React serverless framework that integrates seamlessly with Vercel)."),Object(n.b)("li",{parentName:"ul"},"Vercel integrates with a GitHub repository for automatic deployments upon commits. ")),Object(n.b)("p",null,"In this tutorial, you will learn how to deploy a Node.js based Redis chat application using Vercel in just 5 minutes."),Object(n.b)("h3",{id:"table-of-contents"},"Table of Contents"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Step 1. Set up a free Redis Enterprise Cloud account"),Object(n.b)("li",{parentName:"ul"},"Step 2. Install Vercel CLI"),Object(n.b)("li",{parentName:"ul"},"Step 3. Log in to your Vercel Account"),Object(n.b)("li",{parentName:"ul"},"Step 4. Clone your GitHub repository"),Object(n.b)("li",{parentName:"ul"},"Step 5. Create a vercel.json file"),Object(n.b)("li",{parentName:"ul"},"Step 6. Set up environment variables"),Object(n.b)("li",{parentName:"ul"},"Step 7. Deploy the Node.js app"),Object(n.b)("li",{parentName:"ul"},"Step 8. Access your app")),Object(n.b)("h3",{id:"step-1-set-up-a-free-redis-enterprise-cloud-account"},"Step 1. Set up a free Redis Enterprise Cloud account"),Object(n.b)("p",null,"Visit ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://developer.redis.com/create/rediscloud/"}),"developer.redis.com/create/rediscloud/")," and create ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://redis.com/try-free/"}),"a free Redis Enterprise Cloud account"),". Once you complete this tutorial, you will be provided with the database endpoint URL and password. Save it for future reference."),Object(n.b)("p",null,Object(n.b)("img",{alt:"alt_text",src:a(680).default,title:"image_tooltip"})),Object(n.b)("h3",{id:"step-2-install-vercel-cli"},"Step 2. Install Vercel CLI"),Object(n.b)("pre",null,Object(n.b)("code",Object(r.a)({parentName:"pre"},{}),"npm i -g vercel\n\nvercel -v     \nVercel CLI 23.1.2\n23.1.2\n\n")),Object(n.b)("h3",{id:"step-3-log-in-to-your-vercel-account"},"Step 3. Log in to your Vercel account"),Object(n.b)("p",null,"The ",Object(n.b)("inlineCode",{parentName:"p"},"vercel login")," command allows you to log in to your Vercel account through Vercel CLI."),Object(n.b)("pre",null,Object(n.b)("code",Object(r.a)({parentName:"pre"},{}),"vercel login\nVercel CLI 23.1.2\n> Log in to Vercel github\n> Success! GitHub authentication complete for xx@xx.com\nCongratulations! You are now logged in. In order to deploy something, run `vercel`.\n\ud83d\udca1  Connect your Git Repositories to deploy every branch push automatically (https://vercel.link/git).\n")),Object(n.b)("p",null,"Once Vercel gets connected to your GitHub account, it displays your public repositories. Let us clone ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/redis-developer/basic-redis-chat-app-demo-nodejs"}),"https://github.com/redis-developer/basic-redis-chat-app-demo-nodejs")," to the local repository."),Object(n.b)("h3",{id:"step-4-clone-the-github-repository"},"Step 4. Clone the GitHub repository"),Object(n.b)("p",null,"The complete source code of the Redis Chat application is hosted ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/redis-developer/basic-redis-chat-app-demo-nodejs"}),"here"),". React and Socket.IO are used for building the frontend while Node.js and Redis power the backend. Redis is used mainly as a database to keep the user/messages data and for sending messages between connected servers."),Object(n.b)("pre",null,Object(n.b)("code",Object(r.a)({parentName:"pre"},{}),"git clone https://github.com/redis-developer/basic-redis-chat-app-demo-nodejs\n")),Object(n.b)("h3",{id:"step-5-create-a-verceljson-for-nodejs-app"},"Step 5. Create a vercel.json for Node.js app"),Object(n.b)("p",null,"If you run the ",Object(n.b)("inlineCode",{parentName:"p"},"vercel init")," command, it will list various frameworks but you won\u2019t be able to find Node.js, hence you will need to create a ",Object(n.b)("inlineCode",{parentName:"p"},"vercel.json")," file as shown below:"),Object(n.b)("pre",null,Object(n.b)("code",Object(r.a)({parentName:"pre"},{}),'{\n  "version": 2,\n  "builds": [\n    {\n      "src": "./index.vercel.js",\n      "use": "@vercel/node"\n    }\n  ],\n  "routes": [\n    {\n      "src": "/(.*)",\n      "dest": "/"\n    }\n  ]\n}\n\n')),Object(n.b)("h3",{id:"step-6-set-up-environment-variables"},"Step 6. Set up environment variables"),Object(n.b)("p",null,"The ",Object(n.b)("inlineCode",{parentName:"p"},"vercel env")," command is used to manage ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://vercel.com/docs/concepts/projects/environment-variables"}),"environment variables")," under a Project, providing functionality to list, add, remove, and pull."),Object(n.b)("p",null,"Let us first set up environment variables."),Object(n.b)("pre",null,Object(n.b)("code",Object(r.a)({parentName:"pre"},{})," vercel env add\nVercel CLI 23.1.2\n? What's the name of the variable? REDIS_ENDPOINT_URI\n? What's the value of REDIS_ENDPOINT_URI? redis-XXXX.c212.ap-south-1-1.ec2.cloud.redislabs.com:XXX\n\n")),Object(n.b)("p",null,"Listing the environment variables:"),Object(n.b)("pre",null,Object(n.b)("code",Object(r.a)({parentName:"pre"},{}),"vercel env ls\nVercel CLI 23.1.2\n> Environment Variables found in Project basic-redis-chat-app-demo-nodejs [684ms]\n\n name                       value               environments                        created\n REDIS_PASSWORD             Encrypted           Production, Preview, Development    2d ago\n REDIS_ENDPOINT_URL         Encrypted           Production, Preview, Development    2d ago\n\n")),Object(n.b)("h3",{id:"step-7-deploy-the-nodejs-app"},"Step 7. Deploy the Node.js app"),Object(n.b)("p",null,"When you run a vercel command in a directory for the first time, ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://vercel.com/cli"}),"Vercel CLI")," needs to know which ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://vercel.com/docs/cli#options/global-options/scope"}),"scope")," and ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://vercel.com/docs/concepts/projects/overview"}),"Project")," you want to deploy your directory to. You can choose to either link an existing project or create a new one."),Object(n.b)("pre",null,Object(n.b)("code",Object(r.a)({parentName:"pre"},{}),'vercel  \nVercel CLI 23.1.2\n? Set up and deploy "~/projects/10feb/basic-redis-chat-app-demo-nodejs"? [Y/n] y\n? Which scope do you want to deploy to? redis-developer\n? Found project "redis-developer/basic-redis-chat-app-demo-nodejs". Link to it? [Y/n] y\n\ud83d\udd17  Linked to redis-developer/basic-redis-chat-app-demo-nodejs (created .vercel)\n\ud83d\udd0d  Inspect: https://vercel.com/redis-developer/basic-redis-chat-app-demo-nodejs/5KZydRNsXwnjRxDYa65x4Ak8KwZT [4s]\n\u2705  Preview: https://basic-redis-chat-app-demo-nodejs-redis-developer.vercel.app [copied to clipboard] [27s]\n\ud83d\udcdd  To deploy to production (basic-redis-chat-app-demo-nodejs.vercel.app), run `vercel --prod`\n\u2757\ufe0f  Due to `builds` existing in your configuration file, the Build and Development Settings defined in your Project Settings will not apply. Learn More: https://vercel.link/unused-build-settings\n\n')),Object(n.b)("p",null,"Once the deployment process has completed, a new ",Object(n.b)("inlineCode",{parentName:"p"},".vercel")," directory will be added to your directory. The ",Object(n.b)("inlineCode",{parentName:"p"},".vercel")," directory contains both the organization and project ID of your project. "),Object(n.b)("p",null,'The "project.json" file contains:'),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},'The ID of the Vercel project that you linked ("projectId")')),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},'The ID of the user or team your Vercel project is owned by ("orgId")'))),Object(n.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(n.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(n.b)("h5",{parentName:"div"},Object(n.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(n.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(n.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(n.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(n.b)("p",{parentName:"div"},"Vercel CLI automatically detects the framework you are using and offers default project settings accordingly."))),Object(n.b)("h3",{id:"step-8-accessing-the-app"},"Step 8. Accessing the app"),Object(n.b)("p",null,"Run the following command to deploy the Redis chat app to the Prod environment."),Object(n.b)("pre",null,Object(n.b)("code",Object(r.a)({parentName:"pre"},{}),"vercel --prod\nVercel CLI 23.1.2\n\ud83d\udd0d  Inspect: https://vercel.com/redis-developer/basic-redis-chat-app-demo-nodejs/GoRdy7LKxqhBfJNW8hSvvFLQC6EN [2s]\n\u2705  Production: https://basic-redis-chat-app-demo-nodejs.vercel.app [copied to clipboard] [14s]\n\n\n")),Object(n.b)("p",null,"By now, you will be able to login to Chat app and start chatting."),Object(n.b)("p",null,Object(n.b)("img",{alt:"alt_text",src:a(681).default,title:"image_tooltip"})),Object(n.b)("p",null,"The chat server works as a basic REST API which involves keeping the session and handling the user state in the chat rooms (besides the WebSocket/real-time part). When a WebSocket/real-time server is instantiated, which listens for the next events:"),Object(n.b)("p",null,Object(n.b)("img",{alt:"alt_text",src:a(682).default,title:"image_tooltip"})),Object(n.b)("p",null,"If you want to know how the chat app works internally, ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"/howtos/chatapp#how-it-works"}),"refer to this detailed blog tutorial")),Object(n.b)("h3",{id:"references"},"References"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",Object(r.a)({parentName:"li"},{href:"https://vercel.com/docs/get-started"}),"Getting Started with Vercel")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",Object(r.a)({parentName:"li"},{href:"https://vercel.com/docs/concepts/functions/serverless-functions"}),"Serverless Functions under Vercel")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",Object(r.a)({parentName:"li"},{href:"https://vercel.com/docs/concepts/functions/supported-languages"}),"A Look at Vercel Supported Languages")," "),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",Object(r.a)({parentName:"li"},{href:"https://vercel.com/docs/concepts/next.js/overview"}),"Next.js on Vercel"))))}p.isMDXComponent=!0},335:function(e,t,a){"use strict";var r=a(0),c=a.n(r),n=a(333),o=a(340);a(334),a(59);t.a=function(e){var t=c.a.useState(!1),a=t[0],r=t[1];return c.a.createElement("div",{className:"ri-container"},c.a.createElement("div",{className:"ri-description-short"},c.a.createElement("div",{className:"ri-icon"},c.a.createElement("span",{className:"fe fe-zap"})),c.a.createElement("div",{className:"ri-detail"},c.a.createElement("div",{className:"ri-title"},c.a.createElement("a",{href:e.page},e.title)),c.a.createElement("div",{className:"ri-description"},e.description,c.a.Children.count(e.children)>0&&c.a.createElement("span",{className:"ri-more fe fe-more-horizontal",onClick:function(){return r(!a)}})))),a&&c.a.createElement("div",{className:"ri-description-long"},c.a.createElement(n.a,{components:o.a},e.children)))}},679:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/vercel1-ffed82f0487a3aa28be6284f2f396df1.png"},680:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/vercel2-305a950887db96f719e660eb1833f0ba.png"},681:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/vercel13-d750e03d8643cda1dc0c7f8597b96666.png"},682:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/vercel3-379066e902cddb58ad190803711f17c9.png"}}]);