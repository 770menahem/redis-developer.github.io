"use strict";(self.webpackChunkredis_developer_hub=self.webpackChunkredis_developer_hub||[]).push([[9546],{71131:(e,a,t)=>{t.d(a,{Z:()=>m});var r=t(67294),o=t(3905),n=t(52195);const i="riContainer_bco2",s="riDescriptionShort_E27B",p="riDetail_wzFs",l="riIcon_yDou",u="riTitle_x6vI",d="riDescription_RDnu",c="riMore_apRP";var h=t(86010);const m=e=>{const[a,t]=r.useState(!1);return r.createElement("a",{href:e.page,className:i},r.createElement("div",{className:s},r.createElement("div",{className:l},r.createElement("span",{className:"fe fe-zap"})),r.createElement("div",{className:p},r.createElement("div",{className:u},r.createElement("a",{href:e.page},e.title)),r.createElement("div",{className:d},e.description,r.Children.count(e.children)>0&&r.createElement("span",{className:(0,h.Z)(c,"fe","fe-more-horizontal"),onClick:()=>t(!a)})))),a&&r.createElement("div",{className:"ri-description-long"},r.createElement(o.Zo,{components:n.Z},e.children)))}},80529:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>n,metadata:()=>s,toc:()=>l});var r=t(87462),o=(t(67294),t(3905));t(71131);const n={id:"index-herokuruby",title:"Deploy a Ruby app on Heroku using Redis",sidebar_label:"How to deploy a Ruby based application on Heroku using Redis",slug:"/create/heroku/herokuruby",authors:["ajeet"]},i=void 0,s={unversionedId:"create/heroku/herokuruby/index-herokuruby",id:"create/heroku/herokuruby/index-herokuruby",title:"Deploy a Ruby app on Heroku using Redis",description:"Heroku is a popular PaaS offering that allows software developers to easily deploy their code without worrying about the underlying infrastructure. By using a simple 'git push heroku' command, developers are able to deploy their application flawlessly. This platform offers support for a wide range of programming languages such as Java, Ruby, PHP, Node.js, Python, Scala, and Clojure.",source:"@site/docs/create/heroku/herokuruby/index-herokuruby.mdx",sourceDirName:"create/heroku/herokuruby",slug:"/create/heroku/herokuruby",permalink:"/create/heroku/herokuruby",draft:!1,editUrl:"https://github.com/redis-developer/redis-developer/edit/master/docs/create/heroku/herokuruby/index-herokuruby.mdx",tags:[],version:"current",lastUpdatedAt:1655485542,formattedLastUpdatedAt:"Jun 17, 2022",frontMatter:{id:"index-herokuruby",title:"Deploy a Ruby app on Heroku using Redis",sidebar_label:"How to deploy a Ruby based application on Heroku using Redis",slug:"/create/heroku/herokuruby",authors:["ajeet"]},sidebar:"docs",previous:{title:"How to deploy a Redis Rate Limiting application on Heroku",permalink:"/create/heroku/ratelimiting-go"},next:{title:"How to deploy a Go based application on Heroku using Redis",permalink:"/create/heroku/herokugo"}},p={},l=[{value:"Step 1. Create a Redis Enterprise Cloud Database",id:"step-1-create-a-redis-enterprise-cloud-database",level:3},{value:"Step 2. Create a Heroku account",id:"step-2-create-a-heroku-account",level:3},{value:"Step 3. Install the Heroku CLI on your system",id:"step-3-install-the-heroku-cli-on-your-system",level:3},{value:"Step 4. Login to Heroku",id:"step-4-login-to-heroku",level:3},{value:"Step 5. Connect your application to Redis Enterprise Cloud",id:"step-5-connect-your-application-to-redis-enterprise-cloud",level:3},{value:"Clone the repository",id:"clone-the-repository",level:4},{value:"Step 6. Setting up Environment Variables",id:"step-6-setting-up-environment-variables",level:3},{value:"Step 7. Deploy your code",id:"step-7-deploy-your-code",level:3},{value:"Step 8. Accessing the application",id:"step-8-accessing-the-application",level:3},{value:"How does it work?",id:"how-does-it-work",level:3},{value:"How the data is stored:",id:"how-the-data-is-stored",level:4},{value:"How the data is accessed:",id:"how-the-data-is-accessed",level:4},{value:"Next Steps",id:"next-steps",level:3}],u={toc:l};function d(e){let{components:a,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},u,n,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Heroku is a popular PaaS offering that allows software developers to easily deploy their code without worrying about the underlying infrastructure. By using a simple 'git push heroku' command, developers are able to deploy their application flawlessly. This platform offers support for a wide range of programming languages such as Java, Ruby, PHP, Node.js, Python, Scala, and Clojure."),(0,o.kt)("p",null,"Here's a quickstart guide to deploy Ruby apps on Heroku using Redis. We will be deploying a sample Leaderboard app and will be using company valuation and stock tickers as its domain."),(0,o.kt)("h3",{id:"step-1-create-a-redis-enterprise-cloud-database"},"Step 1. Create a Redis Enterprise Cloud Database"),(0,o.kt)("p",null,"Create your free Redis Enterprise Cloud account by visiting ",(0,o.kt)("a",{parentName:"p",href:"https://redis.com/try-free"},"this link"),"."),(0,o.kt)("admonition",{title:"TIP",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"For a limited time, use ",(0,o.kt)("strong",{parentName:"p"},"TIGER200")," to get ",(0,o.kt)("strong",{parentName:"p"},"$200")," credits on Redis Enterprise Cloud and try all the advanced capabilities!"),(0,o.kt)("p",{parentName:"admonition"},"\ud83c\udf89 ",(0,o.kt)("a",{parentName:"p",href:"https://redis.com/try-free"},"Click here to sign up"))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"recloud",src:t(21347).Z,width:"2486",height:"1804"})),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/create/rediscloud"},"Follow this link to create a Redis Enterprise Cloud")," subscription and database. Once you create the database, you will be provisioned with a unique database endpoint URL, port and password. Save these for future reference."),(0,o.kt)("h3",{id:"step-2-create-a-heroku-account"},"Step 2. Create a Heroku account"),(0,o.kt)("p",null,"If you are using Heroku for the first time, create your new Heroku account ",(0,o.kt)("a",{parentName:"p",href:"https://signup.heroku.com/login"},"through this link"),"."),(0,o.kt)("h3",{id:"step-3-install-the-heroku-cli-on-your-system"},"Step 3. Install the Heroku CLI on your system"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-macos"}," brew install heroku\n")),(0,o.kt)("h3",{id:"step-4-login-to-heroku"},"Step 4. Login to Heroku"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"}," heroku login\n heroku: Press any key to open up the browser to login or q to exit:\n Opening browser to https://cli-auth.heroku.com/auth/cli/browser/XXXXXXXXXXA\n Logging in... done\n Logged in as your_email_address\n")),(0,o.kt)("h3",{id:"step-5-connect-your-application-to-redis-enterprise-cloud"},"Step 5. Connect your application to Redis Enterprise Cloud"),(0,o.kt)("p",null,"For this demonstration, we will be using a ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/redis-developer/basic-redis-leaderboard-demo-ruby"},"Sample Redis Leaderboard app"),"."),(0,o.kt)("h4",{id:"clone-the-repository"},"Clone the repository"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"}," git clone https://github.com/redis-developer/basic-redis-leaderboard-demo-ruby\n")),(0,o.kt)("p",null,"Run the commands below to get a functioning Git repository that contains a simple application as well as a ",(0,o.kt)("inlineCode",{parentName:"p"},"app.json")," file."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"heroku create\nCreating app... done, \u2b22 thawing-shore-07338\nhttps://thawing-shore-07338.herokuapp.com/ | https://git.heroku.com/thawing-shore-07338.git\n")),(0,o.kt)("h3",{id:"step-6-setting-up-environment-variables"},"Step 6. Setting up Environment Variables"),(0,o.kt)("p",null,'Go to the Heroku dashboard, click "Settings" and set ',(0,o.kt)("inlineCode",{parentName:"p"},"REDIS_HOST")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"REDIS_PASSWORD")," under the Config Vars.\nRefer to Step 1 for the correct values to use."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"heroku",src:t(5867).Z,width:"2512",height:"1372"})),(0,o.kt)("p",null,"You now have a functioning Git repository that contains a simple application as well as a ",(0,o.kt)("inlineCode",{parentName:"p"},"app.json")," file, which is used by Node\u2019s dependency manager."),(0,o.kt)("h3",{id:"step-7-deploy-your-code"},"Step 7. Deploy your code"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ git push heroku\n")),(0,o.kt)("p",null,"Wait for few seconds and you will see the messages below:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"remote: -----\x3e Discovering process types\nremote:        Procfile declares types     -> (none)\nremote:        Default types for buildpack -> console, rake, web\nremote:\nremote: -----\x3e Compressing...\nremote:        Done: 125.9M\nremote: -----\x3e Launching...\nremote:        Released v10\nremote:        https://thawing-shore-07338.herokuapp.com/ deployed to Heroku\nremote:\nremote: Verifying deploy... done.\nTo https://git.heroku.com/thawing-shore-07338.git\n * [new branch]      master -> master\n")),(0,o.kt)("h3",{id:"step-8-accessing-the-application"},"Step 8. Accessing the application"),(0,o.kt)("p",null,"Open ",(0,o.kt)("a",{parentName:"p",href:"https://thawing-shore-07338.herokuapp.com/"},"https://thawing-shore-07338.herokuapp.com/")," to access your application on the browser.\nPlease note that the Web URL is unique, hence it will be different in your case."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"heroku",src:t(99317).Z,width:"2872",height:"1608"})),(0,o.kt)("h3",{id:"how-does-it-work"},"How does it work?"),(0,o.kt)("h4",{id:"how-the-data-is-stored"},"How the data is stored:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The AAPL's details - market cap of 2.6 triillions and USA origin - are stored in a Redis hash like this:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},' HSET "company:AAPL" symbol "AAPL" market_cap "2600000000000" country USA\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The market capitalization for each company is also stored in a ZSET (Redis Sorted Set)."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"}," ZADD  companyLeaderboard 2600000000000 company:AAPL\n")))),(0,o.kt)("h4",{id:"how-the-data-is-accessed"},"How the data is accessed:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Top 10 companies:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"}," ZREVRANGE companyLeaderboard 0 9 WITHSCORES\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"All companies:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"}," ZREVRANGE companyLeaderboard 0 -1 WITHSCORES\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Bottom 10 companies:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"}," ZRANGE companyLeaderboard 0 9 WITHSCORES\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Between rank 10 and 15:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"}," ZREVRANGE companyLeaderboard 9 14 WITHSCORES\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Show rank for AAPL, FB and TSLA:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"}," ZREVRANGE  companyLeaderBoard company:AAPL company:FB company:TSLA\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Add 1 billion to the market cap of the FB company:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},' ZINCRBY companyLeaderBoard 1000000000 "company:FB"\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Reduce the market cap of the FB company by 1 billion:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},' ZINCRBY companyLeaderBoard -1000000000 "company:FB"\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"How many companies have a market cap between 500 billion and 1 trillion?:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"}," ZCOUNT companyLeaderBoard 500000000000 1000000000000\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"How many companies have a market cap over a Trillion?:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"}," ZCOUNT companyLeaderBoard 1000000000000 +inf\n")))),(0,o.kt)("h3",{id:"next-steps"},"Next Steps"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/explore/redisinsight/"},"Connecting to the database using RedisInsight")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://launchpad.redis.com/"},"Accessing Ruby-based apps over Redis LaunchPad")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/create/heroku/herokujava"},"Deploy Java apps on Heroku using Redis")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/create/heroku/herokujava"},"Deploy NodeJS apps on Heroku using Redis"))))}d.isMDXComponent=!0},5867:(e,a,t)=>{t.d(a,{Z:()=>r});const r=t.p+"assets/images/heroku_app1_env-96608e2c54d51c7336a31220adc9d327.png"},99317:(e,a,t)=>{t.d(a,{Z:()=>r});const r=t.p+"assets/images/heroku_leaderboard_ruby-dae23945d1b8f321c56c413ac768c983.png"},21347:(e,a,t)=>{t.d(a,{Z:()=>r});const r=t.p+"assets/images/try-free-52c2cec515e5862b2f5021faf0fbbe53.png"}}]);