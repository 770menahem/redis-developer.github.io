"use strict";(self.webpackChunkredis_developer_hub=self.webpackChunkredis_developer_hub||[]).push([[5784,3007,1849],{3905:(e,t,a)=>{a.d(t,{Zo:()=>l,kt:()=>u});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var c=n.createContext({}),d=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},l=function(e){var t=d(e.components);return n.createElement(c.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=d(a),u=o,m=p["".concat(c,".").concat(u)]||p[u]||h[u]||i;return a?n.createElement(m,r(r({ref:t},l),{},{components:a})):n.createElement(m,r({ref:t},l))}));function u(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,r=new Array(i);r[0]=p;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,r[1]=s;for(var d=2;d<i;d++)r[d]=a[d];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},50358:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(67294),o=a(52263);const i="authorByline_VoxI",r="authorLabel_a70t",s="authorProfileImage_URwT";const c=function(e){let{frontMatter:t}=e;const{siteConfig:a}=(0,o.Z)(),c=a.customFields.authors;return n.createElement(n.Fragment,null,t.authors&&n.createElement("div",{className:"docAuthors"},n.createElement("hr",null),t.authors.map((e=>n.createElement("div",{key:e,className:i},n.createElement("img",{className:s,src:`/img/${c[e].image?c[e].image:"default_author_profile_pic.png"}`,alt:`Profile picture for ${c[e].name}`}),n.createElement("div",null,n.createElement("div",{className:r},"Author:"),n.createElement("div",null,n.createElement("a",{href:c[e].link,target:"_blank"},c[e].name),", ",c[e].title))))),n.createElement("hr",null)))}},82937:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>h,default:()=>f,frontMatter:()=>l,metadata:()=>p,toc:()=>m});var n=a(87462),o=(a(67294),a(3905)),i=a(50358),r=a(94047),s=a(87269);const c=a.p+"assets/images/redis-json-01-603e18a5f71c4421826b3e0b6b34b620.png",d=a.p+"assets/images/redis-json-02-a44ac31145c7f8a229fedade2dfd4878.png",l={id:"index-cache-prefetching",title:"How to use Redis for Cache Prefetching Strategy",sidebar_label:"How to use Redis for Cache Prefetching Strategy",slug:"/howtos/solutions/caching-architecture/cache-prefetching",authors:["prasan","will"]},h=void 0,p={unversionedId:"howtos/solutions/caching-architecture/cache-prefetching/index-cache-prefetching",id:"howtos/solutions/caching-architecture/cache-prefetching/index-cache-prefetching",title:"How to use Redis for Cache Prefetching Strategy",description:"What is cache prefetching?",source:"@site/docs/howtos/solutions/caching-architecture/cache-prefetching/index-cache-prefetching.mdx",sourceDirName:"howtos/solutions/caching-architecture/cache-prefetching",slug:"/howtos/solutions/caching-architecture/cache-prefetching",permalink:"/howtos/solutions/caching-architecture/cache-prefetching",draft:!1,editUrl:"https://github.com/redis-developer/redis-developer/edit/master/docs/howtos/solutions/caching-architecture/cache-prefetching/index-cache-prefetching.mdx",tags:[],version:"current",lastUpdatedAt:1681130274,formattedLastUpdatedAt:"Apr 10, 2023",frontMatter:{id:"index-cache-prefetching",title:"How to use Redis for Cache Prefetching Strategy",sidebar_label:"How to use Redis for Cache Prefetching Strategy",slug:"/howtos/solutions/caching-architecture/cache-prefetching",authors:["prasan","will"]}},u={},m=[{value:"What is cache prefetching?",id:"what-is-cache-prefetching",level:2},{value:"Why you should use Redis for cache prefetching",id:"why-you-should-use-redis-for-cache-prefetching",level:2},{value:"Cache prefetching in a NodeJS application with Redis and MongoDB",id:"cache-prefetching-in-a-nodejs-application-with-redis-and-mongodb",level:2},{value:"Demo application",id:"demo-application",level:3},{value:"Prefetching data",id:"prefetching-data",level:3},{value:"Querying data",id:"querying-data",level:3},{value:"Ready to use Redis for cache prefetching?",id:"ready-to-use-redis-for-cache-prefetching",level:2},{value:"Additional resources",id:"additional-resources",level:2}],g={toc:m};function f(e){let{components:t,...h}=e;return(0,o.kt)("wrapper",(0,n.Z)({},g,h,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(i.Z,{frontMatter:l,mdxType:"Authors"}),(0,o.kt)("h2",{id:"what-is-cache-prefetching"},"What is cache prefetching?"),(0,o.kt)("p",null,"As the name implies, required data is fetched in to the cache from the database before it is actually needed.\nSo cache serves the data faster to the application when needed rather retrieval of data from database every time."),(0,o.kt)("p",null,"Let's consider ",(0,o.kt)("strong",{parentName:"p"},"Master data lookup")," example to illustrate cache prefetching strategy.\nCache prefetching is not just limited to master data, you can consider any data as per your business/ application requirements."),(0,o.kt)("p",null,"One ongoing developer challenge is to (swiftly) create, read, update, and (possibly) delete data that lives long, changes infrequently, and is regularly referenced by other data, directly or indirectly. That's a working definition of ",(0,o.kt)("strong",{parentName:"p"},"master data"),", especially when it also represents the organization's core data that is considered essential for its operations."),(0,o.kt)("p",null,"Master data generally changes infrequently - (say in Movie application) country lists, genre, and movie languages usually stay the same. That presents an opportunity to speed things up. You can address access and manipulation operations so that data consistency is preserved and data access happens quickly."),(0,o.kt)("p",null,"From a developer's point of view, master data lookup refers to the process by which master data is accessed in business transactions, in application setup, and any other way that software retrieves the information. Examples of master data lookup include fetching data for user interface (UI) elements (such as drop-down dialogs, select values, multi-language labels), fetching constants, user access control, theme, and other product configuration. And you can do that even when you rely primarily on MongoDB as a persistent data store."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"pattern",src:a(64001).Z,width:"1163",height:"285"})),(0,o.kt)("p",null,"Let's see how the ",(0,o.kt)("strong",{parentName:"p"},"cache prefetching"),' functions in "Master data lookup" example:'),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Read the master data from MongoDB on application startup and store a copy of the data in Redis. This pre-caches the data for fast retrieval. Use a script or a cron job to regularly copy latest master data to Redis."),(0,o.kt)("li",{parentName:"ol"},"The application requests Master data."),(0,o.kt)("li",{parentName:"ol"},"Instead of MongoDB serving the data, the master data will be served from Redis.")),(0,o.kt)("h2",{id:"why-you-should-use-redis-for-cache-prefetching"},"Why you should use Redis for cache prefetching"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Serve prefetched data at speed"),": By definition, nearly every application requires access to master or other common data. Pre-caching such frequent data with Redis delivers it to users at high speed.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Support massive tables"),": Master tables often have millions of records. Searching through them can cause performance bottlenecks. Use Redis to perform real-time search on the large tables to increase performance with sub-millisecond response.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Postpone expensive hardware and software investments"),": Defer costly infrastructure enhancements by using Redis. Get the performance and scaling benefits without asking the CFO to write a check."))),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"If you use ",(0,o.kt)("strong",{parentName:"p"},"Redis Enterprise"),", cache prefetching is easier due to its support for JSON and search. You also get additional features such as real-time performance, High scalability, resiliency, and fault tolerance. You can also call upon high-availability features such as Active-Active geo-redundancy.")),(0,o.kt)("h2",{id:"cache-prefetching-in-a-nodejs-application-with-redis-and-mongodb"},"Cache prefetching in a NodeJS application with Redis and MongoDB"),(0,o.kt)("h3",{id:"demo-application"},"Demo application"),(0,o.kt)(r.default,{mdxType:"CachingMovieAppDesign"}),(0,o.kt)(s.default,{mdxType:"SourceCodeMovieApp"}),(0,o.kt)("p",null,"The developer responsible for this movie application would treat certain fields as master data, including movie language, country, genre, and ratings, because they are required for common application transactions."),(0,o.kt)("p",null,"Consider the pop-up dialog that appears when a user who wants to add a new movie clicks the movie application plus the icon. The pop-up includes drop-down menus for both country and language. In this demonstration, Redis loads the values."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"demo-03",src:a(47482).Z,width:"1304",height:"557"})),(0,o.kt)("h3",{id:"prefetching-data"},"Prefetching data"),(0,o.kt)("p",null,"The code snippet to save MongoDB JSON documents in to Redis (as JSON) using ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/redis/redis-om-node"},"Redis om Node")," library."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'async function insertMasterCategoriesToRedis() {\n  ...\n  const _dataArr = await getMasterCategories(); //from MongoDb\n  const repository = MasterCategoryRepo.getRepository();\n\n  if (repository && _dataArr && _dataArr.length) {\n    for (const record of _dataArr) {\n      const entity = repository.createEntity(record);\n      entity.categoryTag = [entity.category]; //for tag search\n      //adds JSON to Redis\n      await repository.save(entity);\n    }\n  }\n  ...\n}\n\nasync function getMasterCategories() {\n  //fetching data from MongoDb\n  ...\n  db.collection("masterCategories").find({\n    statusCode: {\n      $gt: 0,\n    },\n    category: {\n      $in: ["COUNTRY", "LANGUAGE"],\n    },\n  });\n  ...\n}\n')),(0,o.kt)("p",null,"You can also check ",(0,o.kt)("a",{parentName:"p",href:"https://redis.com/redis-enterprise/redis-insight/"},"Redis Insight")," to verify that JSON data is inserted"),(0,o.kt)("img",{src:c,alt:"redis-json",width:"500",className:"margin-bottom--md"}),(0,o.kt)("img",{src:d,alt:"redis-json",width:"500",className:"margin-bottom--md"}),(0,o.kt)("h3",{id:"querying-data"},"Querying data"),(0,o.kt)("p",null,"Previously, if the application used MongoDB, it searched the static database to retrieve the movie's country and language values. That can be time consuming if it's read from persistent storage - and is inefficient if the information is static.\nInstead, now the master data can be accessed with few lines of code - and much faster response times."),(0,o.kt)("p",null,"The code snippet display a fetch query of master data from Redis that loads the country and language dropdown values."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'*** With Redis ***\n*** Redis OM Node query ***\nfunction getMasterCategories() {\n  ...\n  masterCategoriesRepository\n    .search()\n    .where("statusCode")\n    .gt(0)\n    .and("categoryTag")\n    .containOneOf("COUNTRY", "LANGUAGE");\n  ...\n}\n')),(0,o.kt)("h2",{id:"ready-to-use-redis-for-cache-prefetching"},"Ready to use Redis for cache prefetching?"),(0,o.kt)("p",null,'You have learnt how to use Redis for cache prefetching with "master data lookup" example. It\'s possible to incrementally adopt Redis wherever needed with other caching strategies/patterns. For more resources on the topic of caching, check out the links below:'),(0,o.kt)("h2",{id:"additional-resources"},"Additional resources"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Caching with Redis",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/howtos/solutions/caching-architecture/write-behind"},"Write behind caching")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/howtos/solutions/caching-architecture/write-through"},"Write through caching")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/howtos/solutions/microservices/caching"},"Query caching")))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.youtube.com/c/Redisinc"},"Redis YouTube channel")),(0,o.kt)("li",{parentName:"ul"},"Clients like ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/redis/node-redis"},"Node Redis")," and ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/redis/redis-om-node"},"Redis om Node")," help you to use Redis in Node.js applications."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://redis.com/redis-enterprise/redis-insight/"},"RedisInsight")," : To view your Redis data or to play with raw Redis commands in the workbench"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://redis.com/try-free/"},"Try Redis Enterprise for free"))))}f.isMDXComponent=!0},94047:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var n=a(87462),o=(a(67294),a(3905));const i={},r=void 0,s={unversionedId:"howtos/solutions/caching-architecture/common-caching/caching-movie-app",id:"howtos/solutions/caching-architecture/common-caching/caching-movie-app",title:"caching-movie-app",description:"The demonstration application showcases a movie application that uses basic create, read, update, and delete (CRUD) operations.",source:"@site/docs/howtos/solutions/caching-architecture/common-caching/caching-movie-app.mdx",sourceDirName:"howtos/solutions/caching-architecture/common-caching",slug:"/howtos/solutions/caching-architecture/common-caching/caching-movie-app",permalink:"/howtos/solutions/caching-architecture/common-caching/caching-movie-app",draft:!1,editUrl:"https://github.com/redis-developer/redis-developer/edit/master/docs/howtos/solutions/caching-architecture/common-caching/caching-movie-app.mdx",tags:[],version:"current",lastUpdatedAt:1681130274,formattedLastUpdatedAt:"Apr 10, 2023",frontMatter:{}},c={},d=[],l={toc:d};function h(e){let{components:t,...i}=e;return(0,o.kt)("wrapper",(0,n.Z)({},l,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The demonstration application showcases a movie application that uses basic create, read, update, and delete (CRUD) operations.\n",(0,o.kt)("img",{alt:"demo-01",src:a(82989).Z,width:"2616",height:"1348"})),(0,o.kt)("p",null,"The movie application dashboard contains a search section at the top and a list of movie cards in the middle. The floating plus icon displays a pop-up when the user selects it, permitting the user to enter new movie details. The search section has a text search bar and a toggle link between text search and basic (that is, form-based) search. Each movie card has edit and delete icons, which are displayed when a mouse hovers over the card."))}h.isMDXComponent=!0},87269:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var n=a(87462),o=(a(67294),a(3905));const i={},r=void 0,s={unversionedId:"howtos/solutions/caching-architecture/common-caching/source-code-movie-app",id:"howtos/solutions/caching-architecture/common-caching/source-code-movie-app",title:"source-code-movie-app",description:"You can follow along with the details using the code on GitHub.",source:"@site/docs/howtos/solutions/caching-architecture/common-caching/source-code-movie-app.mdx",sourceDirName:"howtos/solutions/caching-architecture/common-caching",slug:"/howtos/solutions/caching-architecture/common-caching/source-code-movie-app",permalink:"/howtos/solutions/caching-architecture/common-caching/source-code-movie-app",draft:!1,editUrl:"https://github.com/redis-developer/redis-developer/edit/master/docs/howtos/solutions/caching-architecture/common-caching/source-code-movie-app.mdx",tags:[],version:"current",lastUpdatedAt:1681130274,formattedLastUpdatedAt:"Apr 10, 2023",frontMatter:{}},c={},d=[],l={toc:d};function h(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"You can follow along with the details using the code on GitHub."),(0,o.kt)("admonition",{title:"GITHUB CODE",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Below are the commands to clone the source code (frontend and backend) for the application used in this tutorial"),(0,o.kt)("p",{parentName:"admonition"},"git clone ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/redis-developer/ebook-speed-mern-frontend.git"},"https://github.com/redis-developer/ebook-speed-mern-frontend.git")),(0,o.kt)("p",{parentName:"admonition"},"git clone ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/redis-developer/ebook-speed-mern-backend.git"},"https://github.com/redis-developer/ebook-speed-mern-backend.git"))))}h.isMDXComponent=!0},64001:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/pattern-dddf54d02b1c3cf616eaed3bf07ae6f1.jpg"},82989:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/demo-01-e8fece1a10d65e2298fa3e312b75ce29.png"},47482:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/demo-03-2e970cc2abb1a94aa61d66131b6a1bf6.png"}}]);