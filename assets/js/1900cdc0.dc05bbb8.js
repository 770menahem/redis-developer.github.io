"use strict";(self.webpackChunkredis_developer_hub=self.webpackChunkredis_developer_hub||[]).push([[61],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return f}});var n=r(67294);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var l=n.createContext({}),d=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,s=e.mdxType,i=e.originalType,l=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),p=d(r),f=s,m=p["".concat(l,".").concat(f)]||p[f]||c[f]||i;return r?n.createElement(m,o(o({ref:t},u),{},{components:r})):n.createElement(m,o({ref:t},u))}));function f(e,t){var r=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var i=r.length,o=new Array(i);o[0]=p;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a.mdxType="string"==typeof e?e:s,o[1]=a;for(var d=2;d<i;d++)o[d]=r[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},25096:function(e,t,r){r.r(t),r.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return f},frontMatter:function(){return a},metadata:function(){return d},toc:function(){return c}});var n=r(87462),s=r(63366),i=(r(67294),r(3905)),o=["components"],a={id:"index-redisgears",title:"RedisGears Tutorial",sidebar_label:"RedisGears Tutorial",slug:"/howtos/redisgears",authors:["ajeet"]},l=void 0,d={unversionedId:"howtos/redisgears/index-redisgears",id:"howtos/redisgears/index-redisgears",title:"RedisGears Tutorial",description:"RedisGears is an engine for data processing in Redis. RedisGears supports batch and event-driven processing for Redis data. To use RedisGears, you write functions that describe how your data should be processed. You then submit this code to your Redis deployment for remote execution.",source:"@site/docs/howtos/redisgears/index-redisgears.mdx",sourceDirName:"howtos/redisgears",slug:"/howtos/redisgears",permalink:"/howtos/redisgears",draft:!1,editUrl:"https://github.com/redis-developer/redis-developer/edit/master/docs/howtos/redisgears/index-redisgears.mdx",tags:[],version:"current",lastUpdatedAt:1655485542,formattedLastUpdatedAt:"6/17/2022",frontMatter:{id:"index-redisgears",title:"RedisGears Tutorial",sidebar_label:"RedisGears Tutorial",slug:"/howtos/redisgears",authors:["ajeet"]},sidebar:"docs",previous:{title:"Using RedisBloom with .NET",permalink:"/howtos/redisbloom/with-dotnet/redisbloom-withdotnet"},next:{title:"Overview",permalink:"/howtos/redisai/"}},u={},c=[{value:"Step 1. Installing RedisGears",id:"step-1-installing-redisgears",level:3},{value:"Step 2. Verifying if RedisGears module is enabled:",id:"step-2-verifying-if-redisgears-module-is-enabled",level:3},{value:"Step 3. Create a &quot;wordcount&quot; Python script",id:"step-3-create-a-wordcount-python-script",level:3},{value:"Step 4. Execute the CLI",id:"step-4-execute-the-cli",level:3},{value:"References",id:"references",level:3}],p={toc:c};function f(e){var t=e.components,r=(0,s.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://redis.com/modules/redis-gears/"},"RedisGears")," is an engine for data processing in Redis. RedisGears supports batch and event-driven processing for Redis data. To use RedisGears, you write functions that describe how your data should be processed. You then submit this code to your Redis deployment for remote execution."),(0,i.kt)("p",null,"RedisGears is implemented by a Redis module. To use RedisGears, you\u2019ll need to make sure that your Redis deployment has the module installed."),(0,i.kt)("h3",{id:"step-1-installing-redisgears"},"Step 1. Installing RedisGears"),(0,i.kt)("p",null,"Before you can use RedisGears, you have to install the RedisGears module. We will be using redislabs/redismod Docker image for this demonsration"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"}," docker run -d -p 6379:6379 redislabs/redismod\n")),(0,i.kt)("h3",{id:"step-2-verifying-if-redisgears-module-is-enabled"},"Step 2. Verifying if RedisGears module is enabled:"),(0,i.kt)("p",null,"You can directly use ",(0,i.kt)("inlineCode",{parentName:"p"},"redis-cli"),' CLI to verify if RedisGears module("rg") is properly loaded or not.'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"}," redis-cli\n redis-cli\n 127.0.0.1:6379> info modules\n # Modules\n ..\n module:name=rg,ver=10006,api=1,filters=0,usedby=[],using=[ai],options=[]\n")),(0,i.kt)("h3",{id:"step-3-create-a-wordcount-python-script"},'Step 3. Create a "wordcount" Python script'),(0,i.kt)("p",null,"To demonstrate RedisGears functionality, we will be performing a unique word count on the existing strings.\nWe will be writing a RedisGears function to do this."),(0,i.kt)("p",null,"Open a file called wordcount.py, and add the following code:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"}," gb = GearsBuilder()\n gb.map(lambda x: x['value'])     # map each key object to its string value\n gb.flatmap(lambda x: x.split())  # split each string into a list of words\n gb.countby()                     # run a count-unique on these words\n gb.run()\n")),(0,i.kt)("h3",{id:"step-4-execute-the-cli"},"Step 4. Execute the CLI"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"}," redis-cli rg.pyexecute \"`cat wordcount.py`\"\n  1) 1) \"{'key': 'world', 'value': 1}\"\n  2) \"{'key': 'galaxy', 'value': 1}\"\n  3) \"{'key': 'hello', 'value': 3}\"\n  4) \"{'key': 'universe', 'value': 1}\"\n 2) (empty array)\n")),(0,i.kt)("p",null,"The results here show the number of occurences of each word in all of our strings. So, we\u2019ve effectively processed the data in our Redis database all at once, in a batch."),(0,i.kt)("h3",{id:"references"},"References"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/howtos/frauddetection"},"How to build a Fraud Detection System using RedisGears and RedisBloom")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/explore/redisinsight/redisgears"},"Writing Your Serverless function using RedisGears Browser Tool")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://redis.com/modules/redis-gears/"},"RedisGears Module"))))}f.isMDXComponent=!0}}]);