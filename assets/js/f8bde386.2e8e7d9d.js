"use strict";(self.webpackChunkredis_developer_hub=self.webpackChunkredis_developer_hub||[]).push([[2115],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,c=d(e,["components","mdxType","originalType","parentName"]),u=l(n),m=o,y=u["".concat(s,".").concat(m)]||u[m]||p[m]||i;return n?r.createElement(y,a(a({ref:t},c),{},{components:n})):r.createElement(y,a({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=u;var d={};for(var s in t)hasOwnProperty.call(t,s)&&(d[s]=t[s]);d.originalType=e,d.mdxType="string"==typeof e?e:o,a[1]=d;for(var l=2;l<i;l++)a[l]=n[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},56320:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>d,toc:()=>l});var r=n(87462),o=(n(67294),n(3905));const i={id:"add-and-retrieve-objects",title:"Add and Retrieve Objects",sidebar_label:"Add and Retrieve Objects",slug:"/develop/dotnet/redis-om-dotnet/add-and-retrieve-objects",authors:["steve"]},a=void 0,d={unversionedId:"develop/dotnet/redis-om-dotnet/add-and-retrieve-objects/add-and-retrieve-objects",id:"develop/dotnet/redis-om-dotnet/add-and-retrieve-objects/add-and-retrieve-objects",title:"Add and Retrieve Objects",description:"The Redis OM library supports declarative storage and retrieval of objects from Redis. Without Redis Stack, this is limited to using hashes, and id lookups of objects in Redis. You will still use the Document Attribute to decorate a class you'd like to store in Redis. From there, all you need to do is either call Insert or InsertAsync on the RedisCollection or Set or SetAsync on the RedisConnection, passing in the object you want to set in Redis. You can then retrieve those objects with Get or GetAsync with the RedisConnection or with FindById or FindByIdAsync in the RedisCollection.",source:"@site/docs/develop/dotnet/redis-om-dotnet/add-and-retrieve-objects/add-and-retrieve-objects.md",sourceDirName:"develop/dotnet/redis-om-dotnet/add-and-retrieve-objects",slug:"/develop/dotnet/redis-om-dotnet/add-and-retrieve-objects",permalink:"/develop/dotnet/redis-om-dotnet/add-and-retrieve-objects",draft:!1,editUrl:"https://github.com/redis-developer/redis-developer/edit/master/docs/develop/dotnet/redis-om-dotnet/add-and-retrieve-objects/add-and-retrieve-objects.md",tags:[],version:"current",lastUpdatedAt:1686329974,formattedLastUpdatedAt:"Jun 9, 2023",frontMatter:{id:"add-and-retrieve-objects",title:"Add and Retrieve Objects",sidebar_label:"Add and Retrieve Objects",slug:"/develop/dotnet/redis-om-dotnet/add-and-retrieve-objects",authors:["steve"]},sidebar:"docs",previous:{title:"Basic API Caching using ASP.NET Core",permalink:"/develop/dotnet/aspnetcore/caching/basic-api-caching"},next:{title:"Creating an Index",permalink:"/develop/dotnet/redis-om-dotnet/searching/creating-an-index"}},s={},l=[],c={toc:l};function p(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The Redis OM library supports declarative storage and retrieval of objects from Redis. Without ",(0,o.kt)("a",{parentName:"p",href:"https://redis.io/docs/stack"},"Redis Stack"),", this is limited to using hashes, and id lookups of objects in Redis. You will still use the ",(0,o.kt)("inlineCode",{parentName:"p"},"Document")," Attribute to decorate a class you'd like to store in Redis. From there, all you need to do is either call ",(0,o.kt)("inlineCode",{parentName:"p"},"Insert")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"InsertAsync")," on the ",(0,o.kt)("inlineCode",{parentName:"p"},"RedisCollection")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"Set")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"SetAsync")," on the RedisConnection, passing in the object you want to set in Redis. You can then retrieve those objects with ",(0,o.kt)("inlineCode",{parentName:"p"},"Get<T>")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"GetAsync<T>")," with the ",(0,o.kt)("inlineCode",{parentName:"p"},"RedisConnection")," or with ",(0,o.kt)("inlineCode",{parentName:"p"},"FindById")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"FindByIdAsync")," in the RedisCollection."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},'public class Program\n{\n    [Document(Prefixes = new []{"Employee"})]\n    public class Employee\n    {\n        [RedisIdField]\n        public string Id{ get; set; }\n\n        public string Name { get; set; }\n\n        public int Age { get; set; }\n\n        public double Sales { get; set; }\n\n        public string Department { get; set; }\n    }\n\n    static async Task Main(string[] args)\n    {\n        var provider = new RedisConnectionProvider("redis://localhost:6379");\n        var connection = provider.Connection;\n        var employees = provider.RedisCollection<Employee>();\n        var employee1 = new Employee{Name="Bob", Age=32, Sales = 100000, Department="Partner Sales"};\n        var employee2 = new Employee{Name="Alice", Age=45, Sales = 200000, Department="EMEA Sales"};\n        var idp1 = await connection.SetAsync(employee1);\n        var idp2 = await employees.InsertAsync(employee2);\n\n        var reconstitutedE1 = await connection.GetAsync<Employee>(idp1);\n        var reconstitutedE2 = await employees.FindByIdAsync(idp2);\n        Console.WriteLine($"First Employee\'s name is {reconstitutedE1.Name}, they are {reconstitutedE1.Age} years old, " +\n                          $"they work in the {reconstitutedE1.Department} department and have sold {reconstitutedE1.Sales}, " +\n                          $"their ID is: {reconstitutedE1.Id}");\n        Console.WriteLine($"Second Employee\'s name is {reconstitutedE2.Name}, they are {reconstitutedE2.Age} years old, " +\n                        $"they work in the {reconstitutedE2.Department} department and have sold {reconstitutedE2.Sales}, " +\n                        $"their ID is: {reconstitutedE2.Id}");\n    }\n}\n')),(0,o.kt)("p",null,"The Code above will declare an ",(0,o.kt)("inlineCode",{parentName:"p"},"Employee")," class, and allow you to add employees to Redis, and then retrieve Employees from Redis the output from this method will look like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"First Employee's name is Bob, they are 32 years old, they work in the Partner Sales department and have sold 100000, their ID is: 01FHDFE115DKRWZW0XNF17V2RK\nSecond Employee's name is Alice, they are 45 years old, they work in the EMEA Sales department and have sold 200000, their ID is: 01FHDFE11T23K6FCJQNHVEF92F\n")),(0,o.kt)("p",null,"If you wanted to find them in Redis directly you could run ",(0,o.kt)("inlineCode",{parentName:"p"},"HGETALL Employee:01FHDFE115DKRWZW0XNF17V2RK")," and that will retrieve the Employee object as a Hash from Redis. If you do not specify a prefix, the prefix will be the fully-qualified class name."))}p.isMDXComponent=!0}}]);