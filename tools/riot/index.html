<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Redis Developer Hub Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Redis Developer Hub Blog Atom Feed">
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-W8Z6BLQ",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><title data-react-helmet="true">RIOT | Redis Developer Hub</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="/img/share.png"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="RIOT | Redis Developer Hub"><meta data-react-helmet="true" name="description" content="Redis Input/Output Tools (RIOT) is a set of import/export command line utilities for Redis:"><meta data-react-helmet="true" property="og:description" content="Redis Input/Output Tools (RIOT) is a set of import/export command line utilities for Redis:"><meta data-react-helmet="true" property="og:url" content="https://developer.redislabs.com/tools/riot"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://fonts.gstatic.com"><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&amp;family=Roboto+Mono:wght@400;500;600;700&amp;display=swap" rel="stylesheet"><link data-react-helmet="true" href="/css/redis-sitesearch.css" rel="stylesheet"><link data-react-helmet="true" href="/css/redis-sitesearch-overrides.css" rel="stylesheet"><link data-react-helmet="true" rel="canonical" href="https://developer.redislabs.com/tools/riot"><link rel="stylesheet" href="/styles.68cfdffa.css">
<link rel="stylesheet" href="/main.8cbeb264.css">
<link rel="preload" href="/styles.c3bae301.js" as="script">
<link rel="preload" href="/runtime~main.bfc668ca.js" as="script">
<link rel="preload" href="/main.02cb3686.js" as="script">
<link rel="preload" href="/1.04cec3c3.js" as="script">
<link rel="preload" href="/2.ba32e870.js" as="script">
<link rel="preload" href="/3.a4eb402e.js" as="script">
<link rel="preload" href="/1be78505.d1030a71.js" as="script">
<link rel="preload" href="/935f2afb.0a5a390c.js" as="script">
<link rel="preload" href="/17896441.f91adc6a.js" as="script">
<link rel="preload" href="/47016385.8b8a5e5e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W8Z6BLQ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg width="24" height="18" xmlns="http://www.w3.org/2000/svg"><g stroke="#FFFFFF" stroke-width="1.65" fill="none" fill-rule="evenodd" stroke-dasharray="4.4" stroke-linecap="round" stroke-linejoin="round"><path d="M1 16.95h24.2M1 9.25h24.2M1 1.55h24.2"></path></g></svg></div><a class="navbar__brand" href="/"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar__items navbar__items--right"><div id="redis-sitesearch" class="redis-sitesearch redis-sitesearch-inline"><input class="redis-sitesearch-input"><div class="redis-sitesearch-result-list-wrapper"><ul class="redis-sitesearch-result-list"></ul><div class="redisearch-logo"></div></div></div><a class="navbar__item navbar__link" href="/create/rediscloud">Get started</a><a href="https://redislabs.com/try-free/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Try Free</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/create/rediscloud">Get started</a></li><li class="menu__list-item"><a href="https://redislabs.com/try-free/" target="_blank" rel="noopener noreferrer" class="menu__link">Try Free</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">RIOT</h1></header><div class="markdown"><p>Redis Input/Output Tools (RIOT) is a set of import/export command line utilities for Redis:</p><ul><li>RIOT Redis: live replication from any Redis database (including AWS Elasticache) to another Redis database.</li><li>RIOT DB: migrate from an RDBMS to Redis, RediSearch, RedisJSON, ...</li></ul><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1shy tabs__item--active">RIOT Redis</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1shy">RIOT DB</li></ul><div class="margin-vert--md"><div role="tabpanel"><p>Most database migration tools available today are offline in nature. Migrating data from AWS ElastiCache to Redis Enterprise Cloud for example means backing up your Elasticache data to an AWS S3 bucket and importing it into Redis Enterprise Cloud using its UI.This implies some downtime and might result in data loss.
Other available techniques include creating point-in-time snapshots of the source Redis server &amp; applying the changes to the destination servers to keep both servers in sync.
It might sound like a good approach but can be challenging when you have to maintain dozens of scripts to implement the migration strategy.</p><p>RIOT Redis is a migration tool that allows for seamless live replication between two Redis databases.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="1-getting-started"></a>1. Getting Started<a class="hash-link" href="#1-getting-started" title="Direct link to heading">#</a></h3><p>Download the <a href="https://github.com/redis-developer/riot/releases/latest" target="_blank" rel="noopener noreferrer">latest release</a> and unzip the archive.</p><p>Launch the <code>bin/riot-redis</code> script and follow the usage information provided.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="2-build-and-run"></a>2. Build and Run<a class="hash-link" href="#2-build-and-run" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">git clone https://github.com/redis-developer/riot.git</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd riot/riot-redis</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./riot-redis</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="3-install-via-homebrew-macos"></a>3. Install via Homebrew (macOS)<a class="hash-link" href="#3-install-via-homebrew-macos" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">brew install jruaux/tap/riot-redis`</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage"></a>Usage<a class="hash-link" href="#usage" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-redis</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Usage: {app} [OPTIONS] [COMMAND]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      --help                Show this help message and exit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -V, --version             Print version information and exit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -q, --quiet               Log errors only</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -d, --debug               Log in debug mode (includes normal stacktrace)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -i, --info                Set log level to info</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You can use --help on any subcommand:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-redis --help</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-redis import --help</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-redis import ..  hset --help</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Redis connection options are the same as redis-cli:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -h, --hostname=&lt;host&gt;     Server hostname (default: 127.0.0.1)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -p, --port=&lt;port&gt;         Server port (default: 6379)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -s, --socket=&lt;socket&gt;     Server socket (overrides hostname and port)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      --user=&lt;username&gt;     Used to send ACL style &#x27;AUTH username pass&#x27;. Needs password.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -a, --pass[=&lt;password&gt;]   Password to use when connecting to the server</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -u, --uri=&lt;uri&gt;           Server URI</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -o, --timeout=&lt;sec&gt;       Redis command timeout (default: 60)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -n, --db=&lt;int&gt;            Database number (default: 0)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -c, --cluster             Enable cluster mode</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -t, --tls                 Establish a secure TLS connection</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -l, --latency             Show latency metrics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -m, --pool=&lt;int&gt;          Max pool connections (default: 8)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Redis URI syntax is described here.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="4-example"></a>4. Example<a class="hash-link" href="#4-example" title="Direct link to heading">#</a></h3><p>Here is an example of a live replication from a source Redis running on localhost and port 6379, to a target Redis running on localhost and port 6380:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-redis -h source -p 6379 replicate --idle-timeout 500 -h target -p 6380 --live</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="5-verification"></a>5. Verification<a class="hash-link" href="#5-verification" title="Direct link to heading">#</a></h3><p>Once replication is complete RIOT Redis will perform a verification step to compare values and TTLs between source and target databases. The output looks like this:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">OK:1000 V:0 &gt;:0 &lt;:0 T:0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li><p>OK: # identical values</p></li><li><p>V: # mismatched values</p></li><li><blockquote><p>: # keys only present in source database</p></blockquote></li><li><p>&lt;: # keys only present in target database</p></li><li><p>T: # keys with TTL difference greater than tolerance</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="6-architecture"></a>6. Architecture<a class="hash-link" href="#6-architecture" title="Direct link to heading">#</a></h3><p>RIOT Redis implements client-side replication using a producer/consumer approach:</p><ul><li><p>the producer is connected to the source Redis (e.g. ElastiCache) and iterates over keys to read their corresponding values</p></li><li><p>the consumer is connected to the target Redis (e.g. Redis Enterprise Cloud) and writes the key/value tuples previously created</p></li></ul><ol><li>Key reader: initiates a SCAN and optionally calls SUBSCRIBE to listen for keyspace notifications (live replication).</li><li>Value reader: takes the keys and calls DUMP and TTL.</li><li>Key/Value writer: takes key/value/ttl tuples and calls RESTORE and EXPIRE.</li></ol><p>Note: Live replication makes use of keyspace notifications. Make sure the source Redis database has keyspace notifications enabled using notify-keyspace-events = KA in redis.conf or via CONFIG SET.</p><p>Note: The live replication mechanism does not guarantee data consistency. Redis sends keyspace notifications over pub/sub which does not provide guaranteed delivery. It is possible that RIOT Redis can miss some notifications in case of network failures for example.</p></div><div role="tabpanel" hidden=""><p>RIOT DB lets you import/export data from relational databases.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="1-getting-started-1"></a>1. Getting Started<a class="hash-link" href="#1-getting-started-1" title="Direct link to heading">#</a></h3><p>Download the <a href="https://github.com/redis-developer/riot/releases/latest" target="_blank" rel="noopener noreferrer">latest release</a> and unzip the archive.</p><p>Launch the bin/riot-db script and follow the usage information provided.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="2-build-and-run-1"></a>2. Build and Run<a class="hash-link" href="#2-build-and-run-1" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ git clone https://github.com/redis-developer/riot.git</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ cd riot/riot-db</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ ./riot-db</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="3-install-via-homebrew-macos-1"></a>3. Install via Homebrew (macOS)<a class="hash-link" href="#3-install-via-homebrew-macos-1" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">brew install jruaux/tap/riot-db</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="4-usage"></a>4. Usage<a class="hash-link" href="#4-usage" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-db</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Usage: riot-db [OPTIONS] [COMMAND]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      --help                Show this help message and exit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -V, --version             Print version information and exit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -q, --quiet               Log errors only</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -d, --debug               Log in debug mode (includes normal stacktrace)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -i, --info                Set log level to info</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You can use --help on any subcommand:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-db --help</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-db import --help</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-db import … hset --help</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Redis connection options are the same as redis-cli:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -h, --hostname=&lt;host&gt;     Server hostname (default: 127.0.0.1)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -p, --port=&lt;port&gt;         Server port (default: 6379)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -s, --socket=&lt;socket&gt;     Server socket (overrides hostname and port)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      --user=&lt;username&gt;     Used to send ACL style &#x27;AUTH username pass&#x27;. Needs password.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -a, --pass[=&lt;password&gt;]   Password to use when connecting to the server</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -u, --uri=&lt;uri&gt;           Server URI</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -o, --timeout=&lt;sec&gt;       Redis command timeout (default: 60)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -n, --db=&lt;int&gt;            Database number (default: 0)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -c, --cluster             Enable cluster mode</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -t, --tls                 Establish a secure TLS connection</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -l, --latency             Show latency metrics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -m, --pool=&lt;int&gt;          Max pool connections (default: 8)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="5-drivers"></a>5. Drivers<a class="hash-link" href="#5-drivers" title="Direct link to heading">#</a></h3><p>RIOT DB includes drivers for the most common RDBMSs:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="oracle"></a>Oracle<a class="hash-link" href="#oracle" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jdbc:oracle:thin:@myhost:1521:orcl</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ibm-db2"></a>IBM Db2<a class="hash-link" href="#ibm-db2" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jdbc:db2://host:port/database</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ms-sql-server"></a>MS SQL Server<a class="hash-link" href="#ms-sql-server" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jdbc:sqlserver://[serverName[\instanceName][:portNumber]][;property=value[;property=value]]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mysql"></a>MySQL<a class="hash-link" href="#mysql" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jdbc:mysql://[host]:[port][/database][?properties]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="postgresql"></a>PostgreSQL<a class="hash-link" href="#postgresql" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jdbc:postgresql://host:port/database</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sqlite"></a>SQLite<a class="hash-link" href="#sqlite" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jdbc:sqlite:sqlite_database_file_path</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>For non-included databases you must install the corresponding JDBC driver under the lib directory and modify the RIOT DB CLASSPATH:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">*nix: bin/riot-db → CLASSPATH=$APP_HOME/lib/myjdbc.jar:$APP_HOME/lib/…</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Windows: bin{app}.bat → set CLASSPATH=%APP_HOME%\lib\myjdbc.jar;%APP_HOME%\lib\…</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="6-import"></a>6. Import<a class="hash-link" href="#6-import" title="Direct link to heading">#</a></h3><p>Use the import command to import the result set of a SQL statement.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="import-from-postgresql"></a>Import from PostgreSQL<a class="hash-link" href="#import-from-postgresql" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-db -h localhost -p 6379 import &quot;SELECT * FROM orders&quot; --url jdbc:postgresql://host:port/database --username appuser --password passwd hset --keyspace order --keys order_id</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You can specify one or many Redis commands as targets of the import:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="import-into-hashes"></a>Import into hashes<a class="hash-link" href="#import-into-hashes" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-db import .. set --keyspace blah --keys id</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="import-into-hashes-and-set-ttl-on-the-key"></a>Import into hashes and set TTL on the key<a class="hash-link" href="#import-into-hashes-and-set-ttl-on-the-key" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-db import .. hset --keyspace blah --keys id expire --keyspace blah --keys id</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="import-into-hashes-and-set-ttl-and-add-to-a-set-named-myset"></a>Import into hashes and set TTL and add to a set named myset<a class="hash-link" href="#import-into-hashes-and-set-ttl-and-add-to-a-set-named-myset" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-db import .. hset --keyspace blah --keys id expire --keyspace blah --keys id sadd --keyspace myset --members id</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="7-export"></a>7. Export<a class="hash-link" href="#7-export" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="export-to-postgresql"></a>Export to PostgreSQL<a class="hash-link" href="#export-to-postgresql" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-db export &quot;INSERT INTO mytable (id, field1, field2) VALUES (CAST(:id AS SMALLINT), :field1, :field2)&quot; --url jdbc:postgresql://host:port/database --username appuser --password passwd --scan-match &quot;hash:*&quot; --key-regex &quot;hash:(?&lt;id&gt;.*)&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="import-from-postgresql-to-json-strings"></a>Import from PostgreSQL to JSON strings<a class="hash-link" href="#import-from-postgresql-to-json-strings" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯ riot-db -h localhost -p 6379 import &quot;SELECT * FROM orders&quot; --url jdbc:postgresql://host:port/database --username appuser --password passwd set --keyspace order --keys order_id</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This will produce Redis strings that look like this:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;order_id&quot;: 10248,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;customer_id&quot;: &quot;VINET&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;employee_id&quot;: 5,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;order_date&quot;: &quot;1996-07-04&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;required_date&quot;: &quot;1996-08-01&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;shipped_date&quot;: &quot;1996-07-16&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;ship_via&quot;: 3,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;freight&quot;: 32.38,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;ship_name&quot;: &quot;Vins et alcools Chevalier&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;ship_address&quot;: &quot;59 rue de l&#x27;Abbaye&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;ship_city&quot;: &quot;Reims&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;ship_postal_code&quot;: &quot;51100&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;ship_country&quot;: &quot;France&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/redis-developer/redis-developer/edit/master/docs/tools/riot/index-riot.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-getting-started" class="table-of-contents__link">1. Getting Started</a></li><li><a href="#2-build-and-run" class="table-of-contents__link">2. Build and Run</a></li><li><a href="#3-install-via-homebrew-macos" class="table-of-contents__link">3. Install via Homebrew (macOS)</a></li><li><a href="#usage" class="table-of-contents__link">Usage</a></li><li><a href="#4-example" class="table-of-contents__link">4. Example</a></li><li><a href="#5-verification" class="table-of-contents__link">5. Verification</a></li><li><a href="#6-architecture" class="table-of-contents__link">6. Architecture</a></li><li><a href="#1-getting-started-1" class="table-of-contents__link">1. Getting Started</a></li><li><a href="#2-build-and-run-1" class="table-of-contents__link">2. Build and Run</a></li><li><a href="#3-install-via-homebrew-macos-1" class="table-of-contents__link">3. Install via Homebrew (macOS)</a></li><li><a href="#4-usage" class="table-of-contents__link">4. Usage</a></li><li><a href="#5-drivers" class="table-of-contents__link">5. Drivers</a></li><li><a href="#6-import" class="table-of-contents__link">6. Import</a></li><li><a href="#7-export" class="table-of-contents__link">7. Export</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><svg width="785" height="158" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="shape"><defs><path d="M786.344 392.459c-41.822 22.164-258.313 110.84-305.056 135.477-46.742 24.637-72.163 23.812-108.246 6.57-36.082-17.24-267.334-111.664-309.156-131.377-41.822-19.713-42.642-33.657-1.64-49.271C103.25 338.265 332.86 247.94 381.243 229.875c48.383-18.065 65.604-18.065 106.605-2.473 41.003 15.614 256.674 100.996 297.676 115.785 41.002 14.791 42.642 27.912.82 49.273v-.001z" id="a"></path><mask id="b" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="785" height="331" fill="#fff"><use xlink:href="#a"></use></mask></defs><use mask="url(#b)" xlink:href="#a" transform="translate(-32 -216)" stroke="#465282" stroke-width="4" fill="none" fill-rule="evenodd" stroke-dasharray="3.637"></use></svg><img src="/img/code-2.png" class="code" alt=""><div class="row"><div class="col col--3"><div class="footer__logo-ctr"><span class="footer__logo-tagline">Made with &lt;/&gt; by</span><a href="https://redislabs.com/" target="_blank" rel="noopener" class="footerLogoLink_3L_r"><img loading="lazy" class="footer__logo" alt="Redis Labs logo" src="/img/redis-labs-logo-reversed.svg"></a></div></div><div class="col col--9"><div class="row footer__links"><div class="col col--4 footer__col"><h4 class="footer__title">Get Started</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/create/rediscloud">Create Database</a></li><li class="footer__item"><a class="footer__link-item" href="/develop/">Develop</a></li><li class="footer__item"><a class="footer__link-item" href="/explore/redisinsight/">Explore your data</a></li><li class="footer__item"><a href="https://redislabs.com/redis-best-practices/introduction/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Best Practices</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/howtos/redisearch/">Build with Redis Modules</a></li></ul></div><div class="col col--4 footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a href="https://redislabs.com/community/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community</a></li><li class="footer__item"><a href="https://university.redislabs.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Redis University</a></li><li class="footer__item"><a href="https://redis.io/commands" target="_blank" rel="noopener noreferrer" class="footer__link-item">Command Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/howtos">How-tos &amp; tutorials</a></li></ul></div></div></div></div><div class="footer__copyright">Copyright: © 2021 Redis Labs. Redis and the cube logo are registered trademarks of Redis Labs Ltd.</div></div></footer></div>
<script src="/styles.c3bae301.js"></script>
<script src="/runtime~main.bfc668ca.js"></script>
<script src="/main.02cb3686.js"></script>
<script src="/1.04cec3c3.js"></script>
<script src="/2.ba32e870.js"></script>
<script src="/3.a4eb402e.js"></script>
<script src="/1be78505.d1030a71.js"></script>
<script src="/935f2afb.0a5a390c.js"></script>
<script src="/17896441.f91adc6a.js"></script>
<script src="/47016385.8b8a5e5e.js"></script>
</body>
</html>