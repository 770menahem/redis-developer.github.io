<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Redis Developer Hub Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Redis Developer Hub Blog Atom Feed">
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-W8Z6BLQ",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><title data-react-helmet="true">Building Movies database app using RedisGraph and NodeJS | Redis Developer Hub</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="/img/share.png"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Building Movies database app using RedisGraph and NodeJS | Redis Developer Hub"><meta data-react-helmet="true" name="description" content="IMDb(Internet Movie Database) is the world&#x27;s most popular and authoritative source for information on movies, TV shows and celebrities. This application is an IMDB clone with basic account authentication and movie recommendation functionality. You will learn the power of RedisGraph and NodeJS to build a simple movie database."><meta data-react-helmet="true" property="og:description" content="IMDb(Internet Movie Database) is the world&#x27;s most popular and authoritative source for information on movies, TV shows and celebrities. This application is an IMDB clone with basic account authentication and movie recommendation functionality. You will learn the power of RedisGraph and NodeJS to build a simple movie database."><meta data-react-helmet="true" property="og:url" content="https://developer.redis.com/howtos/redisgraphmovies"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://fonts.gstatic.com"><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&amp;family=Roboto+Mono:wght@400;500;600;700&amp;display=swap" rel="stylesheet"><link data-react-helmet="true" href="/css/redis-sitesearch.css" rel="stylesheet"><link data-react-helmet="true" href="/css/redis-sitesearch-overrides.css" rel="stylesheet"><link data-react-helmet="true" rel="canonical" href="https://developer.redis.com/howtos/redisgraphmovies"><link rel="stylesheet" href="/styles.3f36c093.css">
<link rel="stylesheet" href="/main.57e3ec54.css">
<link rel="preload" href="/styles.5c91d0d9.js" as="script">
<link rel="preload" href="/runtime~main.e12842ad.js" as="script">
<link rel="preload" href="/main.662e18cb.js" as="script">
<link rel="preload" href="/1.6f602155.js" as="script">
<link rel="preload" href="/2.d653f97b.js" as="script">
<link rel="preload" href="/3.6372783c.js" as="script">
<link rel="preload" href="/1be78505.a58b061c.js" as="script">
<link rel="preload" href="/935f2afb.faf69931.js" as="script">
<link rel="preload" href="/17896441.6d52bd02.js" as="script">
<link rel="preload" href="/ab39e009.c1c8486f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W8Z6BLQ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg width="24" height="18" xmlns="http://www.w3.org/2000/svg"><g stroke="#FFFFFF" stroke-width="1.65" fill="none" fill-rule="evenodd" stroke-dasharray="4.4" stroke-linecap="round" stroke-linejoin="round"><path d="M1 16.95h24.2M1 9.25h24.2M1 1.55h24.2"></path></g></svg></div><a class="navbar__brand" href="/"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar__items navbar__items--right"><div id="redis-sitesearch" class="redis-sitesearch redis-sitesearch-inline"><input class="redis-sitesearch-input"><div class="redis-sitesearch-result-list-wrapper"><ul class="redis-sitesearch-result-list"></ul><div class="redisearch-logo"></div></div></div><a class="navbar__item navbar__link" href="/create/rediscloud">Get started</a><a href="https://launchpad.redis.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Redis Launchpad</a><a href="https://redis.com/try-free/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Try Free</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/create/rediscloud">Get started</a></li><li class="menu__list-item"><a href="https://launchpad.redis.com" target="_blank" rel="noopener noreferrer" class="menu__link">Redis Launchpad</a></li><li class="menu__list-item"><a href="https://redis.com/try-free/" target="_blank" rel="noopener noreferrer" class="menu__link">Try Free</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_25T_"><div class="menu menu--responsive thin-scrollbar menu_1e9D"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1hKf" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Home</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Create</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create/rediscloud">Redis Enterprise Cloud</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create/heroku">Redis on Heroku</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Redis on Azure Cache</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create/azure">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create/azure/portal">Redis on Azure Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create/azure/terraform-simple">Redis Enterprise with Terraform</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create/azure/terraform-private-endpoint">Azure Cache for Redis Enterprise using Terraform with Private Link</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create/gcp">Redis on Google Cloud</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create/aws">Redis on AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create/docker/">Redis on Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create/kubernetes/">Redis on Kubernetes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create/homebrew/">Redis on Mac</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create/windows">Redis on Windows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create/from-source/">Redis from Source</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Develop</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Java</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Spring</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/spring">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Redis and Spring Course</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/redis-and-spring-course">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/redis-and-spring-course/lesson_1">Up and Running</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/redis-and-spring-course/lesson_2">Spring Data Redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/redis-and-spring-course/lesson_3">Mapping &amp; Repositories</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/redis-and-spring-course/lesson_4">User Roles &amp; Secondary Indexes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/redis-and-spring-course/lesson_5">Books, Categories &amp; The Catalog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/redis-and-spring-course/lesson_6">Domain Models w/ RedisJSON</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/redis-and-spring-course/lesson_7">Search w/ RediSearch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/redis-and-spring-course/lesson_8">Recommendations w/ RedisGraph</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/redis-and-spring-course/lesson_9">Caching w/ Redis</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Rate Limiting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/spring/rate-limiting">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Fixed Window</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/spring/rate-limiting/fixed-window">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/spring/rate-limiting/fixed-window/reactive">Reactive Implementation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/spring/rate-limiting/fixed-window/reactive-lua">Atomicity with Lua</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/java/spring/rate-limiting/fixed-window/reactive-gears">Atomicity with Gears</a></li></ul></li></ul></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/C/">C</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Node.js</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/gettingstarted">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Node.js Crash Course</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/node-crash-course">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/welcome">Welcome</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/whatisredis">What is Redis?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/redisandnodejs">Redis and Node.js</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/introducingredisinsight">Introducing RedisInsight</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/sampleapplicationoverview">Sample Application Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/runningtheapplication">Running the Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/domainobjectswithhashes">Domain Objects with Hashes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/introductiontomodules">Introduction to Modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/redisjson">RedisJSON</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/redisearch">RediSearch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/checkinswithstreams">Checkins with Streams</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/managingsuccess">Managing Success</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/caching">Caching</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/sessionstorage">Session Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/advancedstreams">Advanced Streams</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/redisbloom">RedisBloom</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/node/nodecrashcourse/coursewrapup">Wrap Up</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Python</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/python/">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/python/fastapi">Redis with FastAPI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">.NET</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/dotnet/">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ASP.NET Core</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/dotnet/aspnetcore/rate-limiting/fixed-window">Fixed Window Rate Limiting app using ASP.NET</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/dotnet/aspnetcore/rate-limiting/sliding-window">Sliding Window Rate Limiting app  using ASP.NET</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/dotnet/aspnetcore/rate-limiting/middleware">Rate Limiting Middleware</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/golang/">Go</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/ruby/">Ruby</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/develop/php/">Php</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Explore</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">RedisInsight</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight/getting-started">Getting Started with RedisInsight</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight/browser">Visualize Redis database keys using RedisInsight Browser Tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight/slowlog">Debug Redis using RedisInsight Slowlog Debugging Tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight/memoryanalyzer">Optimize &amp; Analyze Redis using RedisInsight Memory Analyzer Tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight/cluster">Manage Your Redis Cluster using RedisInsight Cluster Management Tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight/streams">Use Redis Streams Consumer Groups with RedisInsight</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight/profiler">RedisInsight Profiler Tool - Analyze Your Redis Commands Using Redis Monitor Command</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight/redisgraph">Query, Visualize and Manipulate Graphs using RedisGraph Browser Visualization Tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight/redisgears">Write Your Serverless Redis function using RedisGears Browser Tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight/redistimeseries">Manage Redis time-series data using RedisTimeSeries Browser Tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight/redisearch">Perform Database Search and Analytics using RediSearch Browser Tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight/autodiscover">Utilize Elasticache Auto Discovery For Redis with RedisInsight</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisinsight/usinghelm">Installing RedisInsight using Helm</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisdatasource">Redis Data Source for Grafana</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redisexplorer">Grafana Dashboards for Redis Enterprise Cluster</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/redismod">RedisMod</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/explore/riot">RIOT</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">HowTos &amp; Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/redisearch">RediSearch Tutorial</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">RedisJSON Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisjson/">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisjson/getting-started">Getting Started with RedisJSON</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisjson/using-python">RedisJSON and Python</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisjson/using-nodejs">RedisJSON and NodeJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisjson/using-ruby">RedisJSON and Ruby</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisjson/using-go">RedisJSON and Go</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisjson/using-java">RedisJSON and Java</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisjson/using-redisinsight">RedisJSON using RedisInsight</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisjson/storing-complex-json-document">Storing and retrieving Nested JSON document</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisjson/jsonind-document">Indexing JSON document using RediSearch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisjson/redisjson-cheatsheet">RedisJSON CheatSheet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisjson/shoppingcart">How to build a Shopping cart app using NodeJS and RedisJSON</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisjson/storing-json-using-nodejs">Storing and retrieving JSON documents using NodeJS</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/redistimeseries">RedisTimeSeries Tutorial</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">RedisGraph Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisgraph/">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisgraph/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisgraph/explore-python-code">Explore Python Codebase using RedisGraph</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisgraph/using-redisinsight">RedisGraph using RedisInsight</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisgraph/using-python">RedisGraph and Python</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisgraph/using-ruby">RedisGraph and Ruby</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisgraph/using-javascript">RedisGraph and JavaScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisgraph/using-go">RedisGraph and Go</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisgraph/using-rust">RedisGraph and Rust</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisgraph/redisgraphmovies">Building Movies database app using RedisGraph &amp; NodeJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/redisgraph/csvtograph">Building RedisGraph databases from CSV inputs</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/redisbloom">RedisBloom Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/redisgears">RedisGears Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/redisai">RedisAI Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/leaderboard">How to build a Real-Time Leaderboard app Using Redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/ratelimiting">How to build a Rate Limiter using Redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/caching">How to cache REST API responses Using Redis &amp; NodeJS</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">How to list &amp; search Movies database using RediSearch</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/moviesdatabase/getting-started">1. Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/moviesdatabase/install">2. Install Redisearch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/moviesdatabase/create">3. Create Index</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/moviesdatabase/query">4. Query Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/moviesdatabase/manage">5. Manage Index</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/moviesdatabase/import">6. Import datasets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/moviesdatabase/querymovies">7. Query Movies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/moviesdatabase/aggregation">8. Aggregation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/moviesdatabase/advancedoption">9. Advanced Option</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/howtos/moviesdatabase/sampleapp">10. Sample Application</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/chatapp">How to build a Chat application using Redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/frauddetection">How to build a Fraud Detection System using Redis</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/howtos/redisgraphmovies">Building Movies database app using RedisGraph and NodeJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/nlp">Building a Pipeline for Natural Language Processing using RedisGears</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/hackernews">How to build a HackerNews Clone using Redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/antipatterns/">Redis Anti-Patterns Every Developer Should Avoid</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/security/">How to Use SSL/TLS With Redis Enterprise</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/analytics">Building an Analytics dashboard app using Redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/popupstore">Building a Popup Store application using Redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/herokunodejs">How to build a NodeJS based application on Heroku using Redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/herokupython">How to build a Python based application on Heroku using Redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/howtos/herokujava">How to build a Java based application on Heroku using Redis</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Get Involved</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/community/">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Hacktoberfest 2021</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hacktoberfest/">Start Here</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hacktoberfest/stories/lara-aasem">Lara&#x27;s Hacktoberfest at Redis Story</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hacktoberfest/stories/vincent-aceto">Vincent&#x27;s Hacktoberfest at Redis Story</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/community/discord/">Discord</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/community/redis-live/">Redis Live</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_2AGf"><div class="docItemContainer_1tAC"><article><header><h1 class="docTitle_cWlf">Building Movies database app using RedisGraph and NodeJS</h1></header><div class="markdown"><p>IMDb(Internet Movie Database) is the world&#x27;s most popular and authoritative source for information on movies, TV shows and celebrities. This application is an IMDB clone with basic account authentication and movie recommendation functionality. You will learn the power of RedisGraph and NodeJS to build a simple movie database.</p><p><img alt="moviedb" src="/assets/images/moviedb_frontpage-1052374f5564d8886a049c9f35d4338c.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="tech-stack"></a>Tech Stack<a class="hash-link" href="#tech-stack" title="Direct link to heading">#</a></h3><ul><li>Frontend - React</li><li>Backend - Node.js, Redis, RedisGraph</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-1-install-the-pre-requisites"></a>Step 1. Install the pre-requisites<a class="hash-link" href="#step-1-install-the-pre-requisites" title="Direct link to heading">#</a></h3><ul><li>Node - v13.14.0+</li><li>NPM - v7.6.0+</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-2-run-redismod-docker-container"></a>Step 2. Run Redismod Docker container<a class="hash-link" href="#step-2-run-redismod-docker-container" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> docker run -d -p </span><span class="token number" style="color:rgb(247, 140, 108)">6379</span><span class="token plain">:6379 redislabs/redismod</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Ensure that Docker container is up and running:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> docker </span><span class="token function" style="color:rgb(130, 170, 255)">ps</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> CONTAINER ID   IMAGE                           COMMAND                  CREATED             STATUS             PORTS                    NAMES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> fd5ef30f025a   redislabs/redismod              </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;redis-server --loadâ€¦&quot;</span><span class="token plain">   </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> hours ago         Up </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> hours         </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token plain">.0.0:6379-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token number" style="color:rgb(247, 140, 108)">6379</span><span class="token plain">/tcp   nervous_buck</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-3-run-redisinsight-docker-container"></a>Step 3. Run RedisInsight Docker container<a class="hash-link" href="#step-3-run-redisinsight-docker-container" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> docker run -d -v redisinsight:/db -p </span><span class="token number" style="color:rgb(247, 140, 108)">8001</span><span class="token plain">:8001 redislabs/redisinsight:latest</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Ensure that Docker container is up and runnig</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> docker </span><span class="token function" style="color:rgb(130, 170, 255)">ps</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> CONTAINER ID   IMAGE                           COMMAND                  CREATED             STATUS             PORTS                    NAMES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 264db1706dcc   redislabs/redisinsight:latest   </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bash ./docker-entryâ€¦&quot;</span><span class="token plain">   About an hour ago   Up About an hour   </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token plain">.0.0:8001-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token number" style="color:rgb(247, 140, 108)">8001</span><span class="token plain">/tcp   angry_shirley</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> fd5ef30f025a   redislabs/redismod              </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;redis-server --loadâ€¦&quot;</span><span class="token plain">   </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> hours ago         Up </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> hours         </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token plain">.0.0:6379-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token number" style="color:rgb(247, 140, 108)">6379</span><span class="token plain">/tcp   nervous_buck</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-4-clone-the-repository"></a>Step 4. Clone the repository<a class="hash-link" href="#step-4-clone-the-repository" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/redis-developer/basic-redisgraph-movie-demo-app-nodejs</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-5-setting-up-environmental-variable"></a>Step 5. Setting up environmental variable<a class="hash-link" href="#step-5-setting-up-environmental-variable" title="Direct link to heading">#</a></h3><p>Copy .env.sample to .env and add the below details: </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  REDIS_ENDPOINT_URL </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Redis server URI&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  REDIS_PASSWORD </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Password to the server&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-6-install-the-dependencies"></a>Step 6. Install the dependencies<a class="hash-link" href="#step-6-install-the-dependencies" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-7-run-the-backend-server"></a>Step 7. Run the backend server<a class="hash-link" href="#step-7-run-the-backend-server" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> node app.js</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-8-run-the-client"></a>Step 8. Run the client<a class="hash-link" href="#step-8-run-the-client" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> client</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> start </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-9-accessing-the-movie-app"></a>Step 9. Accessing the Movie app<a class="hash-link" href="#step-9-accessing-the-movie-app" title="Direct link to heading">#</a></h3><p>Open http://IP:3000 to access the movie app</p><p><img alt="movieapp" src="/assets/images/moviedb-46d687ef28fdaf33dc36e55c6301e79a.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-10-sign-up-for-a-new-account"></a>Step 10. Sign up for a new account<a class="hash-link" href="#step-10-sign-up-for-a-new-account" title="Direct link to heading">#</a></h3><p><img alt="moviedb" src="/assets/images/moviedb_signup-23db249beb656843effbc42437c45993.png"></p><p>Enter the details to create a new account:</p><p><img alt="movieapp" src="/assets/images/moviedb_createaccount-5b1dffcad9306f8ca23066579e930965.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-11-sign-in-to-movie-app"></a>Step 11. Sign-in to movie app<a class="hash-link" href="#step-11-sign-in-to-movie-app" title="Direct link to heading">#</a></h3><p><img alt="movieapp" src="/assets/images/moviedb_sign-034a2c0d20d62188aae3fc9d26f40cb3.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-12-rate-the-movie"></a>Step 12. Rate the movie<a class="hash-link" href="#step-12-rate-the-movie" title="Direct link to heading">#</a></h3><p><img alt="movieapp" src="/assets/images/moviedb_rating-d0722f1efd7753c0115595fd5864ace0.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-13-view-the-list-of-rated-movie"></a>Step 13. View the list of rated movie<a class="hash-link" href="#step-13-view-the-list-of-rated-movie" title="Direct link to heading">#</a></h3><p><img alt="movieapp" src="/assets/images/moviedb_rated-d19d811637af07445c0fafa6a5852a48.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-14-view-directed-movie-over-redisinsight"></a>Step 14. View directed movie over RedisInsight<a class="hash-link" href="#step-14-view-directed-movie-over-redisinsight" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> GRAPH.QUERY &quot;MovieApp&quot; &quot;MATCH (director:Director {tmdbId: \&quot;4945\&quot;})-[:DIRECTED]-&gt;(movie:Movie) RETURN DISTINCT movie,director&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><img alt="movieapp" src="/assets/images/moviedb_directed-d77d156525e820e778f1b34593bb72f3.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-15-find-movies-where-actor-acted-in"></a>Step 15. Find movies where actor acted in.<a class="hash-link" href="#step-15-find-movies-where-actor-acted-in" title="Direct link to heading">#</a></h3><p>Run the below query under RedisGraph to find the author acted in a movie</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> GRAPH.QUERY &quot;MovieApp&quot; &quot;MATCH (actor:Actor {tmdbId: \&quot;8537\&quot;})-[:ACTED_IN_MOVIE]-&gt;(movie:Movie) RETURN DISTINCT movie,actor&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><img alt="movieapp" src="/assets/images/moviedb_actedin-7f01eb47cb67628da77fd5c7957c9039.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-16-store-a-user-in-a-database"></a>Step 16. Store a user in a database<a class="hash-link" href="#step-16-store-a-user-in-a-database" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> CREATE (user:User {id: 32,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> username: &quot;user&quot;, password: &quot;hashed_password&quot;, api_key: &quot;525d40da10be8ec75480&quot;})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> RETURN user</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><img alt="movieapp" src="/assets/images/moviedb_createuser-9d2f2cd0a4a21dcb830958ddd424f7fb.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-17-find-a-user-by-username"></a>Step 17. Find a user by username<a class="hash-link" href="#step-17-find-a-user-by-username" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MATCH (user:User {username: &quot;user&quot;}) RETURN user</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><img alt="movieapp" src="/assets/images/moviedb_createuser1-4d41acc90df6fe1fa507e46ee8370c36.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-it-works"></a>How it works?<a class="hash-link" href="#how-it-works" title="Direct link to heading">#</a></h3><p>The app consumes the data provided by the Express API and presents it through some views to the end user, including:</p><ul><li>Home page</li><li>Sign-up and Login pages</li><li>Movie detail page</li><li>Actor and Director detail page</li><li>User detail page</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="home-page"></a>Home page<a class="hash-link" href="#home-page" title="Direct link to heading">#</a></h4><p><img alt="How it works" src="/assets/images/a-e74937575bdf53241c062e675028f4a6.png"></p><p>The home page shows the genres and a brief listing of movies associated with them. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-the-data-is-stored"></a>How the data is stored<a class="hash-link" href="#how-the-data-is-stored" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="add-a-new-genre"></a>Add a new genre:<a class="hash-link" href="#add-a-new-genre" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> create (g:Genre{name:&quot;Adventure&quot;})</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="add-a-movie"></a>Add a movie:<a class="hash-link" href="#add-a-movie" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> create (m:Movie {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  url: &quot;https://themoviedb.org/movie/862&quot;, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  id:232, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  languages:[&quot;English&quot;], </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  title:&quot;Toy Story&quot;, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  countries:[&quot;USA&quot;], </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  budget:30000000, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  duration:81, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  imdbId:&quot;0114709&quot;, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  imdbRating:8.3, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  imdbVotes:591836, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  movieId:42, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  plot:&quot;...&quot;, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  poster:&quot;https://image.tmd...&quot;, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  poster_image:&quot;https://image.tmdb.or...&quot;, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  released:&quot;1995-11-22&quot;, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  revenue:373554033, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  runtime:$runtime, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  tagline:&quot;A cowboy doll is profoundly t...&quot;, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  tmdbId:&quot;8844&quot;, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  year:&quot;1995&quot;})</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="set-genre-to-a-movie"></a>Set genre to a movie:<a class="hash-link" href="#set-genre-to-a-movie" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MATCH (g:Genre), (m:Movie) </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> WHERE g.name = &quot;Adventure&quot; AND m.title = &quot;Toy Story&quot; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> CREATE (m)-[:IN_GENRE]-&gt;(g)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-the-data-is-accessed"></a>How the data is accessed<a class="hash-link" href="#how-the-data-is-accessed" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="get-genres"></a>Get genres:<a class="hash-link" href="#get-genres" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MATCH (genre:Genre) RETURN genre</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="get-moves-by-genre"></a>Get moves by genre:<a class="hash-link" href="#get-moves-by-genre" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MATCH (movie:Movie)-[:IN_GENRE]-&gt;(genre)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> WHERE toLower(genre.name) = toLower(&quot;Film-Noir&quot;) OR id(genre) = toInteger(&quot;Film-Noir&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> RETURN movie</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="code-example-get-movies-with-genre"></a>Code example: Get movies with genre<a class="hash-link" href="#code-example-get-movies-with-genre" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> const getByGenre = function (session, genreId) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> const query = [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;MATCH (movie:Movie)-[:IN_GENRE]-&gt;(genre)&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;WHERE toLower(genre.name) = toLower($genreId) OR id(genre) = toInteger($genreId)&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;RETURN movie&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ].join(&#x27;\n&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> return session</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> .query(query, {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    genreId,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  .then((result) =&gt; manyMovies(result));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sign-up-and-login-pages"></a>Sign-up and Login pages<a class="hash-link" href="#sign-up-and-login-pages" title="Direct link to heading">#</a></h4><p><img alt="moviedb" src="/assets/images/f-43f2f6d11c5b5edd724aa3746dde9448.png">
<img alt="moviedb" src="/assets/images/g-e5b26eeefb3cdc3304b9ecb0f30da71d.png"></p><p>To be able to rate movies a user needs to be logged in: for that a basic JWT-based authentication system is implemented, where user details are stored in the RedisGraph for persistence.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-the-data-is-stored-1"></a>How the data is stored<a class="hash-link" href="#how-the-data-is-stored-1" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="store-user-in-the-database"></a>Store user in the database:<a class="hash-link" href="#store-user-in-the-database" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> CREATE (user:User {id: 32, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> username: &quot;user&quot;, password: &quot;hashed_password&quot;, api_key: &quot;525d40da10be8ec75480&quot;}) </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> RETURN user</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-the-data-is-accessed-1"></a>How the data is accessed<a class="hash-link" href="#how-the-data-is-accessed-1" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="find-by-user-name"></a>Find by user name:<a class="hash-link" href="#find-by-user-name" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MATCH (user:User {username: &quot;user&quot;}) RETURN user</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="code-example-find-user"></a>Code Example: Find user<a class="hash-link" href="#code-example-find-user" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> const me = function (session, apiKey) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> return session</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   .query(&#x27;MATCH (user:User {api_key: $api_key}) RETURN user&#x27;, {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     api_key: apiKey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   .then((foundedUser) =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     if (!foundedUser.hasNext()) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       throw {message: &#x27;invalid authorization key&#x27;, status: 401};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     while (foundedUser.hasNext()) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       const record = foundedUser.next();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       return new User(record.get(&#x27;user&#x27;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> };</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="movie-detail-page"></a>Movie detail page<a class="hash-link" href="#movie-detail-page" title="Direct link to heading">#</a></h4><p><img alt="How it works" src="/assets/images/d-ede6f36c5b10f8608bccca2c15c4b452.png"></p><p>On this page a user can rate the film and view the Actors/directors who participated in the production of the film. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-the-data-is-stored-2"></a>How the data is stored<a class="hash-link" href="#how-the-data-is-stored-2" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="associate-actor-with-a-movie"></a>Associate actor with a movie:<a class="hash-link" href="#associate-actor-with-a-movie" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MATCH (m:Movie) WHERE m.title=&quot;Jumanji&quot; CREATE (a:Actor :Person{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> bio:&quot;Sample...&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> bornIn:&quot;Denver, Colorado, USA&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> imdbId:&quot;0000245&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> name:&quot;Robin Williams&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> poster:&quot;https://image.tmdb.org/t/p/w440_and_...&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> tmdbId:&quot;2157&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> url:&quot;https://themoviedb.org/person/2157&quot;})-[r:ACTED_IN_MOVIE </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> {role: &quot;Alan Parrish&quot;}]-&gt;(m)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="associate-director-with-a-movie"></a>Associate director with a movie:<a class="hash-link" href="#associate-director-with-a-movie" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MATCH (m:Movie) WHERE m.title=&quot;Dead Presidents&quot; CREATE (d:Director :Person{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  bio: &quot;From Wikipedia, the free e...&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  bornIn: &quot;Detroit, Michigan, USA&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  imdbId: &quot;0400436&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name: &quot;Albert Hughes&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  tmdbId: &quot;11447&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  url: &quot;https://themoviedb.org/person/11447&quot;})-[r:DIRECTED]-&gt;(m)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-the-data-is-accessed-2"></a>How the data is accessed<a class="hash-link" href="#how-the-data-is-accessed-2" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="find-movie-by-id-with-genre-actors-and-director"></a>Find movie by id with genre, actors and director:<a class="hash-link" href="#find-movie-by-id-with-genre-actors-and-director" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MATCH (movie:Movie {tmdbId: $movieId})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> OPTIONAL MATCH (movie)&lt;-[my_rated:RATED]-(me:User {id: &quot;e1e3991f-fe81-439e-a507-aa0647bc0b88&quot;})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> OPTIONAL MATCH (movie)&lt;-[r:ACTED_IN_MOVIE]-(a:Actor)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> OPTIONAL MATCH (movie)-[:IN_GENRE]-&gt;(genre:Genre)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> OPTIONAL MATCH (movie)&lt;-[:DIRECTED]-(d:Director)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> WITH DISTINCT movie, my_rated, genre, d,  a, r</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> RETURN DISTINCT movie,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> collect(DISTINCT d) AS directors,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> collect(DISTINCT a) AS actors,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> collect(DISTINCT genre) AS genres</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="code-example-get-movie-detail"></a>Code Example: Get movie detail<a class="hash-link" href="#code-example-get-movie-detail" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> const getById = function (session, movieId, userId) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> if (!userId) throw {message: &#x27;invalid authorization key&#x27;, status: 401};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> const query = [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &#x27;MATCH (movie:Movie {tmdbId: $movieId})\n&#x27; +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &#x27;  OPTIONAL MATCH (movie)&lt;-[my_rated:RATED]-(me:User {id: $userId})\n&#x27; +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &#x27;  OPTIONAL MATCH (movie)&lt;-[r:ACTED_IN_MOVIE]-(a:Actor)\n&#x27; +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &#x27;  OPTIONAL MATCH (movie)-[:IN_GENRE]-&gt;(genre:Genre)\n&#x27; +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &#x27;  OPTIONAL MATCH (movie)&lt;-[:DIRECTED]-(d:Director)\n&#x27; +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &#x27;  WITH DISTINCT movie, my_rated, genre, d,  a, r\n&#x27; +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &#x27;  RETURN DISTINCT movie,\n&#x27; +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &#x27;  collect(DISTINCT d) AS directors,\n&#x27; +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &#x27;  collect(DISTINCT a) AS actors,\n&#x27; +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &#x27;  collect(DISTINCT genre) AS genres&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ].join(&#x27; &#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> return session</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   .query(query, {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     movieId: movieId.toString(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     userId: userId.toString(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   .then((result) =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     if (result.hasNext()) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       return _singleMovieWithDetails(result.next());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     throw {message: &#x27;movie not found&#x27;, status: 404};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> };</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="actor-and-director-detail-page"></a>Actor and Director detail page<a class="hash-link" href="#actor-and-director-detail-page" title="Direct link to heading">#</a></h4><p><img alt="How it works" src="/assets/images/c-c8175ede1aa097c9fb055f6497b9007b.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-the-data-is-accessed-3"></a>How the data is accessed<a class="hash-link" href="#how-the-data-is-accessed-3" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="find-movies-where-actor-acted-in"></a>Find movies where actor acted in:<a class="hash-link" href="#find-movies-where-actor-acted-in" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MATCH (actor:Actor {tmdbId: &quot;8537&quot;})-[:ACTED_IN_MOVIE]-&gt;(movie:Movie)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> RETURN DISTINCT movie,actor</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="find-movies-directed-by"></a>Find movies directed by:<a class="hash-link" href="#find-movies-directed-by" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MATCH (director:Director {tmdbId: &quot;4945&quot;})-[:DIRECTED]-&gt;(movie:Movie)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> RETURN DISTINCT movie,director</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="get-movies-directed-by"></a>Get movies directed by<a class="hash-link" href="#get-movies-directed-by" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> const getByDirector = function (session, personId) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> const query = [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &#x27;MATCH (director:Director {tmdbId: $personId})-[:DIRECTED]-&gt;(movie:Movie)&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &#x27;RETURN DISTINCT movie,director&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ].join(&#x27;\n&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> return session</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   .query(query, {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     personId,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   .then((result) =&gt; manyMovies(result));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> };</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="user-detail-page"></a>User detail page<a class="hash-link" href="#user-detail-page" title="Direct link to heading">#</a></h4><p><img alt="How it works" src="/assets/images/b-ed5e044194a8c389480045a0c8d4dc65.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="shows-the-profile-info-and-movies-which-were-rated-by-user"></a>Shows the profile info and movies which were rated by user<a class="hash-link" href="#shows-the-profile-info-and-movies-which-were-rated-by-user" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-the-data-is-stored-3"></a>How the data is stored<a class="hash-link" href="#how-the-data-is-stored-3" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="set-rating-for-a-movie"></a>Set rating for a movie:<a class="hash-link" href="#set-rating-for-a-movie" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MATCH (u:User {id: 42}),(m:Movie {tmdbId: 231})       </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MERGE (u)-[r:RATED]-&gt;(m)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> SET r.rating = &quot;7&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> RETURN m</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-the-data-is-accessed-4"></a>How the data is accessed<a class="hash-link" href="#how-the-data-is-accessed-4" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="get-movies-and-user-ratings"></a>Get movies and user ratings:<a class="hash-link" href="#get-movies-and-user-ratings" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Cypher codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> MATCH (:User {id: &quot;d6b31131-f203-4d5e-b1ff-d13ebc06934d&quot;})-[rated:RATED]-&gt;(movie:Movie)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> RETURN DISTINCT movie, rated.rating as my_rating</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="get-rated-movies-for-user"></a>Get rated movies for user<a class="hash-link" href="#get-rated-movies-for-user" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-Javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> const getRatedByUser = function (session, userId) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> return session</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   .query(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &#x27;MATCH (:User {id: $userId})-[rated:RATED]-&gt;(movie:Movie) \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      RETURN DISTINCT movie, rated.rating as my_rating&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     {userId},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   )</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   .then((result) =&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     result._results.map((r) =&gt; new Movie(r.get(&#x27;movie&#x27;), r.get(&#x27;my_rating&#x27;))),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> };</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="data-types"></a>Data types:<a class="hash-link" href="#data-types" title="Direct link to heading">#</a></h4><ul><li>The data is stored in various keys and various relationships.<ul><li>There are 5 types of data<ul><li>User</li><li>Director</li><li>Actor</li><li>Genre</li><li>Movie</li></ul></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="each-type-has-its-own-properties"></a>Each type has its own properties<a class="hash-link" href="#each-type-has-its-own-properties" title="Direct link to heading">#</a></h4><ul><li>Actor: <code>id, bio, born , bornIn, imdbId, name, poster, tmdbId, url</code></li><li>Genre: <code>id, name</code></li><li>Director: <code>id, born, bornIn, imdbId, name, tmdbId, url</code></li><li>User: <code>id, username, password, api_key</code></li><li>Movie: <code>id, url, languages, countries, budget, duration, imdbId, imdbRating, indbVotes, movieId, plot, poster, poster_image, released, revenue, runtime, tagline, tmdbId, year</code></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="and-there-are-4-types-of-relationship"></a>And there are 4 types of relationship:<a class="hash-link" href="#and-there-are-4-types-of-relationship" title="Direct link to heading">#</a></h4><ul><li>User-<code>RATED</code>-&gt;Movie</li><li>Director-<code>DIRECTED</code>-&gt;Movie</li><li>Actor-<code>ACTED_IN_MOVIE</code>-&gt;Movie</li><li>Movie-<code>IN_GENRE</code>-&gt;Genre</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="references"></a>References<a class="hash-link" href="#references" title="Direct link to heading">#</a></h3><ul><li><a href="/howtos/moviesdatabase/getting-started">How to list and search Movies Database using Redisearch</a></li><li><a href="https://redislabs.com/blog/getting-started-with-redisearch-2-0/" target="_blank" rel="noopener noreferrer">RediSearch 2.0â€™s New Indexing Capabilities to add search to Movie app</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/redis-developer/redis-developer/edit/master/docs/howtos/redisgraphmovies/index-redisgraphmovies.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/howtos/frauddetection"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« How to build a Fraud Detection System using Redis</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/howtos/nlp"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Building a Pipeline for Natural Language Processing using RedisGears Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tech-stack" class="table-of-contents__link">Tech Stack</a></li><li><a href="#step-1-install-the-pre-requisites" class="table-of-contents__link">Step 1. Install the pre-requisites</a></li><li><a href="#step-2-run-redismod-docker-container" class="table-of-contents__link">Step 2. Run Redismod Docker container</a></li><li><a href="#step-3-run-redisinsight-docker-container" class="table-of-contents__link">Step 3. Run RedisInsight Docker container</a></li><li><a href="#step-4-clone-the-repository" class="table-of-contents__link">Step 4. Clone the repository</a></li><li><a href="#step-5-setting-up-environmental-variable" class="table-of-contents__link">Step 5. Setting up environmental variable</a></li><li><a href="#step-6-install-the-dependencies" class="table-of-contents__link">Step 6. Install the dependencies</a></li><li><a href="#step-7-run-the-backend-server" class="table-of-contents__link">Step 7. Run the backend server</a></li><li><a href="#step-8-run-the-client" class="table-of-contents__link">Step 8. Run the client</a></li><li><a href="#step-9-accessing-the-movie-app" class="table-of-contents__link">Step 9. Accessing the Movie app</a></li><li><a href="#step-10-sign-up-for-a-new-account" class="table-of-contents__link">Step 10. Sign up for a new account</a></li><li><a href="#step-11-sign-in-to-movie-app" class="table-of-contents__link">Step 11. Sign-in to movie app</a></li><li><a href="#step-12-rate-the-movie" class="table-of-contents__link">Step 12. Rate the movie</a></li><li><a href="#step-13-view-the-list-of-rated-movie" class="table-of-contents__link">Step 13. View the list of rated movie</a></li><li><a href="#step-14-view-directed-movie-over-redisinsight" class="table-of-contents__link">Step 14. View directed movie over RedisInsight</a></li><li><a href="#step-15-find-movies-where-actor-acted-in" class="table-of-contents__link">Step 15. Find movies where actor acted in.</a></li><li><a href="#step-16-store-a-user-in-a-database" class="table-of-contents__link">Step 16. Store a user in a database</a></li><li><a href="#step-17-find-a-user-by-username" class="table-of-contents__link">Step 17. Find a user by username</a></li><li><a href="#how-it-works" class="table-of-contents__link">How it works?</a></li><li><a href="#references" class="table-of-contents__link">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><svg width="785" height="158" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="shape"><defs><path d="M786.344 392.459c-41.822 22.164-258.313 110.84-305.056 135.477-46.742 24.637-72.163 23.812-108.246 6.57-36.082-17.24-267.334-111.664-309.156-131.377-41.822-19.713-42.642-33.657-1.64-49.271C103.25 338.265 332.86 247.94 381.243 229.875c48.383-18.065 65.604-18.065 106.605-2.473 41.003 15.614 256.674 100.996 297.676 115.785 41.002 14.791 42.642 27.912.82 49.273v-.001z" id="a"></path><mask id="b" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="785" height="331" fill="#fff"><use xlink:href="#a"></use></mask></defs><use mask="url(#b)" xlink:href="#a" transform="translate(-32 -216)" stroke="#465282" stroke-width="4" fill="none" fill-rule="evenodd" stroke-dasharray="3.637"></use></svg><img src="/img/code-2.png" class="code" alt=""><div class="row"><div class="col col--3"><div class="footer__logo-ctr"><span class="footer__logo-tagline">Made with &lt;/&gt; by</span><a href="https://redis.com/" target="_blank" rel="noopener" class="footerLogoLink_3L_r"><img loading="lazy" class="footer__logo" alt="Redis Labs logo" src="/img/redis_logo_red_white_rgb.svg"></a></div></div><div class="col col--9"><div class="row footer__links"><div class="col col--4 footer__col"><h4 class="footer__title">Get Started</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/create/rediscloud">Create Database</a></li><li class="footer__item"><a class="footer__link-item" href="/develop/">Develop</a></li><li class="footer__item"><a class="footer__link-item" href="/explore/redisinsight/">Explore your data</a></li><li class="footer__item"><a href="https://redis.com/redis-best-practices/introduction/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Best Practices</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/howtos/redisearch/">Build with Redis Modules</a></li></ul></div><div class="col col--4 footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a href="https://redis.com/community/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community</a></li><li class="footer__item"><a href="https://university.redis.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Redis University</a></li><li class="footer__item"><a href="https://redis.io/commands" target="_blank" rel="noopener noreferrer" class="footer__link-item">Command Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/howtos">How-tos &amp; tutorials</a></li></ul></div></div></div></div><div class="footer__copyright">Copyright: Â© 2021 Redis. All rights reserved. Redis and the cube logo are registered trademarks of Redis Ltd.</div></div></footer></div>
<script src="/styles.5c91d0d9.js"></script>
<script src="/runtime~main.e12842ad.js"></script>
<script src="/main.662e18cb.js"></script>
<script src="/1.6f602155.js"></script>
<script src="/2.d653f97b.js"></script>
<script src="/3.6372783c.js"></script>
<script src="/1be78505.a58b061c.js"></script>
<script src="/935f2afb.faf69931.js"></script>
<script src="/17896441.6d52bd02.js"></script>
<script src="/ab39e009.c1c8486f.js"></script>
</body>
</html>