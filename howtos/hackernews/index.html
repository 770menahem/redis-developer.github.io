<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Redis Developer Hub Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Redis Developer Hub Blog Atom Feed">
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-W8Z6BLQ",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><title data-react-helmet="true">HackerNews Clone using RedisJSON | Redis Developer Hub</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="/img/share.png"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="HackerNews Clone using RedisJSON | Redis Developer Hub"><meta data-react-helmet="true" name="description" content="Hacker News (sometimes abbreviated as HN) is a social news website focusing on computer science and entrepreneurship."><meta data-react-helmet="true" property="og:description" content="Hacker News (sometimes abbreviated as HN) is a social news website focusing on computer science and entrepreneurship."><meta data-react-helmet="true" property="og:url" content="https://developer.redislabs.com/howtos/hackernews"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://fonts.gstatic.com"><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&amp;family=Roboto+Mono:wght@400;500;600;700&amp;display=swap" rel="stylesheet"><link data-react-helmet="true" rel="canonical" href="https://developer.redislabs.com/howtos/hackernews"><link rel="stylesheet" href="/styles.68cfdffa.css">
<link rel="stylesheet" href="/main.8cbeb264.css">
<link rel="preload" href="/styles.ba7fa6e2.js" as="script">
<link rel="preload" href="/runtime~main.563b2fae.js" as="script">
<link rel="preload" href="/main.df5e4dd4.js" as="script">
<link rel="preload" href="/1.6f699090.js" as="script">
<link rel="preload" href="/2.27d5f32c.js" as="script">
<link rel="preload" href="/3.557c08ee.js" as="script">
<link rel="preload" href="/1be78505.63d2603a.js" as="script">
<link rel="preload" href="/935f2afb.25a5b7b9.js" as="script">
<link rel="preload" href="/17896441.58e7593c.js" as="script">
<link rel="preload" href="/e83211e5.bae35ecf.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W8Z6BLQ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg width="24" height="18" xmlns="http://www.w3.org/2000/svg"><g stroke="#FFFFFF" stroke-width="1.65" fill="none" fill-rule="evenodd" stroke-dasharray="4.4" stroke-linecap="round" stroke-linejoin="round"><path d="M1 16.95h24.2M1 9.25h24.2M1 1.55h24.2"></path></g></svg></div><a class="navbar__brand" href="/"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/create/rediscloud">Get started</a><a href="https://redislabs.com/try-free/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Try Free</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/create/rediscloud">Get started</a></li><li class="menu__list-item"><a href="https://redislabs.com/try-free/" target="_blank" rel="noopener noreferrer" class="menu__link">Try Free</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">HackerNews Clone using RedisJSON</h1></header><div class="markdown"><p>Hacker News (sometimes abbreviated as HN) is a social news website focusing on computer science and entrepreneurship.
This is a HackerNews clone built upon React, NextJS as a frontend and NodeJS, ExpressJS &amp; Redis as a backend.
This application uses RedisJSON module for storing the data and RediSearch module for searching.</p><p><img alt="hackernews" src="/assets/images/hackernews-974e3026a35651a1790714fa7f947184.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-1-install-the-prerequisites"></a>Step 1. Install the prerequisites<a class="hash-link" href="#step-1-install-the-prerequisites" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="install-the-below-packages"></a>Install the below packages<a class="hash-link" href="#install-the-below-packages" title="Direct link to heading">#</a></h4><ul><li>NPM v7.8.0</li><li>NODE v15.10.0</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-2-create-redis-enterprise-cloud-database"></a>Step 2. Create Redis Enterprise Cloud database<a class="hash-link" href="#step-2-create-redis-enterprise-cloud-database" title="Direct link to heading">#</a></h3><p><a href="/create/rediscloud">Follow this link</a> to create Redis Enterprise Cloud account with 2 databases - one with RedisJSON module and other with RediSearch module enabled
Save the database endpoint URL and password for our future reference</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-3-clone-the-repository"></a>Step 3. Clone the repository<a class="hash-link" href="#step-3-clone-the-repository" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/redis-developer/redis-hacker-news-demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> redis-hacker-news-demo</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-4-setting-up-environmental-variable"></a>Step 4. Setting up environmental variable<a class="hash-link" href="#step-4-setting-up-environmental-variable" title="Direct link to heading">#</a></h3><p>Copy .env.sample to .env and provide the values as shown below:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">MAILGUN_API_KEY</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">YOUR_VALUE_HERE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">SEARCH_REDIS_SERVER_URL</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">redis://redis-XXXXX.c10.us-east-1-2.ec2.cloud.redislabs.com:10292</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">SEARCH_REDIS_PASSWORD</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">ABCDXYZbPXHWsC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">JSON_REDIS_SERVER_URL</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">redis://redis-XXXXX.c14.us-east-1-2.ec2.cloud.redislabs.com:14054</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">JSON_REDIS_PASSWORD</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">ABCDXYZA3tzw2XYMPi2P8UPm19D</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">LOG_LEVEL</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">USE_REDIS</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">REDIS_REINDEX</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">PRODUCTION_WEBSITE_URL</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">i</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-5-run-the-developer-environment"></a>Step 5. Run the developer environment<a class="hash-link" href="#step-5-run-the-developer-environment" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> run dev</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-6--pull-hacker-news-api-to-seed-database"></a>Step 6.  Pull Hacker News API to seed database<a class="hash-link" href="#step-6--pull-hacker-news-api-to-seed-database" title="Direct link to heading">#</a></h3><p>Using <a href="https://github.com/HackerNews/API" target="_blank" rel="noopener noreferrer">API</a>, it pulls the latest hackernews data.
Next, you need to seed top stories from hacker news. First create a moderator with moderator:password123</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> node ./backend/scripts/seed.js</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="step-7-access-the-hackernews-url"></a>Step 7. Access the HackerNews URL<a class="hash-link" href="#step-7-access-the-hackernews-url" title="Direct link to heading">#</a></h3><p>Open https://localhost:3001 and you should be able to access the HackerNews login screen as shown below:</p><p><img alt="hackernews" src="/assets/images/screenshot-signup-8caa71d43eb218ac98130e6e5114b1bd.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-it-works"></a>How it works<a class="hash-link" href="#how-it-works" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="by-screens"></a>By Screens<a class="hash-link" href="#by-screens" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="signup"></a>Signup<a class="hash-link" href="#signup" title="Direct link to heading">#</a></h4><p><img alt="Signup Screen" src="/assets/images/screenshot-signup-8caa71d43eb218ac98130e6e5114b1bd.png"></p><ul><li><p>Make sure user(where username is andy1) does not exist.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> FT.SEARCH idx:user  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">@username:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;andy1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> NOCONTENT LIMIT </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> SORTBY _id DESC</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Get and increase the next id in users collection.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> GET user:id-indicator // </span><span class="token number" style="color:rgb(247, 140, 108)">63</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> INCR user:id-indicator  // </span><span class="token number" style="color:rgb(247, 140, 108)">64</span><span class="token plain"> will be next user id, </span><span class="token number" style="color:rgb(247, 140, 108)">63</span><span class="token plain"> is current user </span><span class="token function" style="color:rgb(130, 170, 255)">id</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Create user:63 hash and json.(json also collects authToken and password hash etc)</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> HSET user:63 username andy1 email  created </span><span class="token number" style="color:rgb(247, 140, 108)">1615569194</span><span class="token plain"> karma </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> about  showDead </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"> isModerator </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"> shadowBanned </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"> banned </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"> _id </span><span class="token number" style="color:rgb(247, 140, 108)">63</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> JSON.SET user:63 </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;username&quot;:&quot;andy1&quot;,&quot;password&quot;:&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$2a</span><span class="token string variable" style="color:rgb(191, 199, 213)">$10</span><span class="token string variable" style="color:rgb(191, 199, 213)">$zy8tsCske8MfmDX5CcWMce5S1U7PJbPI7CfaqQ7Bo1PORDeqJxqhe</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;,&quot;authToken&quot;:&quot;AAV07FIwTiEkNrPj0x1yj6BPJQSGIPzV0sICw2u0&quot;,&quot;authTokenExpiration&quot;:1647105194,&quot;email&quot;:&quot;&quot;,&quot;created&quot;:1615569194,&quot;karma&quot;:0,&quot;showDead&quot;:false,&quot;isModerator&quot;:false,&quot;shadowBanned&quot;:false,&quot;banned&quot;:false,&quot;_id&quot;:63}&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Gernerate cookie with expiration time.</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="login"></a>Login<a class="hash-link" href="#login" title="Direct link to heading">#</a></h4><p><img alt="Login Screen" src="/assets/images/screenshot-login-2b5a07f61355ab0dfc9a8d3f1dcec528.png"></p><ul><li><p>Find user</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> FT.SEARCH idx:user  (@username:&quot;andy1&quot;) NOCONTENT LIMIT 0 1 SORTBY _id DESC</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Make sure password is correct</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> JSON.MGET user:63 .</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Compare password and new password hash and create cookie if it&#x27;s successful</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="item-list-page"></a>Item list page<a class="hash-link" href="#item-list-page" title="Direct link to heading">#</a></h4><p><img alt="Newest Screen" src="/assets/images/screenshot-newest-776786b42d1ae7703a3fde07205bb331.png"></p><ul><li><p>Check if user has toggled hidden attribute on a specific item.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> FT.SEARCH idx:user-hidden  (@username:&quot;andy1&quot;) NOCONTENT LIMIT 0 10000 SORTBY _id DESC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> // Result - [0, &quot;item:4&quot;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>If that is not null</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> FT.SEARCH idx:item  (-(@id:&quot;item:4&quot;)) (@dead:&quot;false&quot;) NOCONTENT LIMIT 0 30 SORTBY _id ASC</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>If it&#x27;s empty array</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> FT.SEARCH idx:item (@dead:&quot;false&quot;) NOCONTENT LIMIT 0 30 SORTBY _id ASC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> // Result - [3,&quot;item:1&quot;,&quot;item:2&quot;,&quot;item:3&quot;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Get all items from RedisJSON</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> JSON.MGET item:1 item:2 item:3 .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> // Result - [{&quot;id&quot;:&quot;bkWCjcyJu5WT&quot;,&quot;by&quot;:&quot;todsacerdoti&quot;,&quot;title&quot;:&quot;Total Cookie Protection&quot;,&quot;type&quot;:&quot;news&quot;,&quot;url&quot;:&quot;https://blog.mozilla.org/security/2021/02/23/total-cookie-protection/&quot;,&quot;domain&quot;:&quot;mozilla.org&quot;,&quot;points&quot;:1,&quot;score&quot;:1514,&quot;commentCount&quot;:0,&quot;created&quot;:1614089461,&quot;dead&quot;:false,&quot;_id&quot;:3}]]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Get items posted within last 1 week</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> FT.SEARCH idx:item  (@created:[(1615652598 +inf]) (@dead:&quot;false&quot;) NOCONTENT LIMIT 0 0 SORTBY _id DESC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> // Result - [13,&quot;item:19&quot;,&quot;item:17&quot;,&quot;item:16&quot;,&quot;item:15&quot;,&quot;item:14&quot;,&quot;item:13&quot;,&quot;item:12&quot;,&quot;item:11&quot;,&quot;item:8&quot;,&quot;item:5&quot;,&quot;item:4&quot;,&quot;item:3&quot;,&quot;item:1&quot;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li></ul><p>Note that 1615652598 is timestamp of 1 week ealier than current timestamp</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> JSON.MGET item:19 item:17 item:16 item:15 item:14 item:13 item:12 item:11 item:8 item:5 item:4 item:3 item:1 .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> // Result - the JSON of selected items</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="item-detail"></a>Item Detail<a class="hash-link" href="#item-detail" title="Direct link to heading">#</a></h4><p><img alt="Item Detail Screen" src="/assets/images/screenshot-item-detail-a9ebbf8ae72d8af6b48c45163f524ce8.png"></p><ul><li><p>Get the item object first</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> JSON.MGET item:1 .</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Find item:1 &#x27;s root comments</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> FT.SEARCH idx:comment  (@parentItemId:&quot;kDiN0RhTivmJ&quot;) (@isParent:&quot;true&quot;) (@dead:&quot;false&quot;) NOCONTENT LIMIT 0 30 SORTBY points ASC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> // Result - [3,&quot;comment:1&quot;,&quot;comment:2&quot;,&quot;comment:12&quot;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Get those comments</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> JSON.MGET comment:1 comment:2 comment:12 .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> // one comment example result - {&quot;id&quot;:&quot;jnGWS8TTOecC&quot;,&quot;by&quot;:&quot;ploxiln&quot;,&quot;parentItemId&quot;:&quot;kDiN0RhTivmJ&quot;,&quot;parentItemTitle&quot;:&quot;The Framework Laptop&quot;,&quot;isParent&quot;:true,&quot;parentCommentId&quot;:&quot;&quot;,&quot;children&quot;:[13,17,20],&quot;text&quot;:&quot;I don&amp;#x27;t see any mention of the firmware and drivers efforts for this. Firmware and drivers always end up more difficult to deal with than expected.&lt;p&gt;The Fairphone company was surprised by difficulties upgrading and patching android without support from their BSP vendor, causing many months delays of updates _and_ years shorter support life than they were planning for their earlier models.&lt;p&gt;I purchased the Purism Librem 13 laptop from their kickstarter, and they had great plans for firmware and drivers, but also great difficulty following through. The trackpad chosen for the first models took much longer than expected to get upstream linux support, and it was never great (it turned out to be impossible to reliably detect their variant automatically). They finally hired someone with sufficient skill to do the coreboot port _months_ after initial units were delivered, and delivered polished coreboot firmware for their initial laptops _years_ after they started the kickstarter.&lt;p&gt;So, why should we have confidence in the firmware and drivers that Framework will deliver :)&quot;,&quot;points&quot;:1,&quot;created&quot;:1614274058,&quot;dead&quot;:false,&quot;_id&quot;:12}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Using children of each comment, fetch children comments</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> FT.SEARCH idx:comment  (@dead:&quot;false&quot;) (@_id:(&quot;3&quot;|&quot;7&quot;|&quot;11&quot;)) NOCONTENT LIMIT 0 10000 SORTBY _id DESC</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Iterate this over until all comments are resolved</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="submit"></a>Submit<a class="hash-link" href="#submit" title="Direct link to heading">#</a></h4><p><img alt="Submit Screen" src="/assets/images/screenshot-submit-12e6b9a754af39610ac2d543d20eb095.png"></p><ul><li><p>Get next item&#x27;s id and increase it</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> GET item:id-indicator</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> // Result - 4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> SET item:id-indicator 5</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Create hash and RedisJSON index</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> HSET item:4 id iBi8sU4HRcZ2 by andy1 title Firebase trends type ask url  domain  text Firebase Performance Monitoring is a service that helps you to gain insight into the performance characteristics of your iOS, Android, and web apps. points 1 score 0 created 1615571392 dead false _id 4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> JSON.SET item:4 . &#x27;{&quot;id&quot;:&quot;iBi8sU4HRcZ2&quot;,&quot;by&quot;:&quot;andy1&quot;,&quot;title&quot;:&quot;Firebase trends&quot;,&quot;type&quot;:&quot;ask&quot;,&quot;url&quot;:&quot;&quot;,&quot;domain&quot;:&quot;&quot;,&quot;text&quot;:&quot;Firebase Performance Monitoring is a service that helps you to gain insight into the performance characteristics of your iOS, Android, and web apps.&quot;,&quot;points&quot;:1,&quot;score&quot;:0,&quot;commentCount&quot;:0,&quot;created&quot;:1615571392,&quot;dead&quot;:false,&quot;_id&quot;:4}&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="update-profile"></a>Update Profile<a class="hash-link" href="#update-profile" title="Direct link to heading">#</a></h4><p><img alt="Update Profile Screen" src="/assets/images/screenshot-update-profile-1e16d2b9d87668fac47f2bf8f621fba0.png"></p><ul><li><p>Get the user</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> FT.SEARCH idx:user  (@username:&quot;andy1&quot;) NOCONTENT LIMIT 0 1 SORTBY _id DESC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> JSON.MGET user:63 .</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Update new user</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  HSET user:63 username andy1 email  created 1615569194 karma 1 about I am a software engineer. showDead false isModerator false shadowBanned false banned false _id 63
JSON.SET user:63 . &#x27;{&quot;username&quot;:&quot;andy1&quot;,&quot;password&quot;:&quot;$2a$10$zy8tsCske8MfmDX5CcWMce5S1U7PJbPI7CfaqQ7Bo1PORDeqJxqhe&quot;,&quot;authToken&quot;:&quot;KJwPLN1idyQrMp5qEY5hR3VhoPFTKRcC8Npxxoju&quot;,&quot;authTokenExpiration&quot;:1647106257,&quot;email&quot;:&quot;&quot;,&quot;created&quot;:1615569194,&quot;karma&quot;:1,&quot;about&quot;:&quot;I am a software engineer.&quot;,&quot;showDead&quot;:false,&quot;isModerator&quot;:false,&quot;shadowBanned&quot;:false,&quot;banned&quot;:false,&quot;_id&quot;:63}&#x27;</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#### Moderation Logs screen</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">![Moderation Logs](moderation-logs.png)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Find all moderation logs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  FT.SEARCH idx:moderation-log * NOCONTENT LIMIT 0 0 SORTBY _id DESC
// Result - [1,&quot;moderation-log:1&quot;]</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Get that moderation logs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  JSON.MGET moderation-log:1 .</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#### Search</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">![Search Screen](screenshot-search.png)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Get items that contains &quot;fa&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  FT.SEARCH idx:item  (@title:fa*) (-(@id:&quot;aaaaaaaaa&quot;)) (@dead:&quot;false&quot;) NOCONTENT LIMIT 0 30 SORTBY score ASC
// Result - [2,&quot;item:18&quot;,&quot;item:16&quot;]</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Get those items via json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  JSON.MGET item:18 item:16 .</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">## Example commands</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#### There are 2 type of fields, indexed and non-indexed.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1. Indexed fields will be stored in hash using HSET/HGET.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2. Non-indexed fields will be stored in RedisJSON.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Create RediSearch Index</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">When schema is created, it should created index.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  FT.CREATE idx:user ON hash PREFIX 1 &quot;user:&quot; SCHEMA username TEXT SORTABLE email TEXT SORTABLE karma NUMERIC SORTABLE</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Drop RediSearch Index</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Should drop/update index if the schema has changed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  FT.DROPINDEX idx:user</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Get RediSearch Info</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Validate if the fields are indexed properly. If not, it will update the index fields or drop/recreate.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  FT.INFO idx:user</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Create a new user</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">It will require new hash and new JSON record</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  HSET user:andy username &quot;andy&quot; email &quot;<a href="mailto:andy@gmail.com" target="_blank" rel="noopener noreferrer">andy@gmail.com</a>&quot; karma 0
JSON.SET user:andy &#x27;{&quot;passoword&quot;: &quot;hashed_password&quot;, &quot;settings&quot;: &quot;{ \&quot;showDead\&quot;: true }&quot; }&#x27;</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Update a user</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  HSET user:1 username &quot;newusername&quot;
JSON.SET user:andy username &quot;newusername&quot;</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Find user with username &#x27;andy&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1. Find  the user&#x27;s hash first</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  FT.SEARCH idx:user &#x27;@username:{andy}&#x27;</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2. Fetch the JSON object to get the related JSON object</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  JSON.GET user:andy</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Find user whose id is andy1 or andy2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  FT.SEARCH idx:user &#x27;@id:(&quot;andy1&quot;|&quot;andy2&quot;)&#x27;</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Find user whose id is not andy1 or andy2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  FT.SEARCH idx:user &#x27;(-(@id:(&quot;andy1&quot;|&quot;andy2&quot;)))&#x27;</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Find user whose id is andy1 or username is andy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  FT.SEARCH idx:user &#x27;(@id:&quot;andy1&quot;) | (@username:&quot;andy&quot;)&#x27;</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Find user whose id is andy1 and username is andy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  FT.SEARCH idx:user &#x27;(@id:&quot;andy1&quot;) (@username:&quot;andy&quot;)&#x27;</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Find first 10 users order by username</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  FT.SEARCH idx:user &#x27;*&#x27; LIMIT 0 10 SORTBY username ASC</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Find next 10 users</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  FT.SEARCH idx:user &#x27;*&#x27; LIMIT 10 20 SORTBY username ASC</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Get from RedisJson from multiple keys</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  JSON.MGET idx:user &quot;andy1&quot; &quot;andy2&quot; &quot;andy3&quot;</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/redis-developer/redis-developer/edit/master/docs/howtos/hackernews/index-hackernews.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-install-the-prerequisites" class="table-of-contents__link">Step 1. Install the prerequisites</a></li><li><a href="#step-2-create-redis-enterprise-cloud-database" class="table-of-contents__link">Step 2. Create Redis Enterprise Cloud database</a></li><li><a href="#step-3-clone-the-repository" class="table-of-contents__link">Step 3. Clone the repository</a></li><li><a href="#step-4-setting-up-environmental-variable" class="table-of-contents__link">Step 4. Setting up environmental variable</a></li><li><a href="#step-5-run-the-developer-environment" class="table-of-contents__link">Step 5. Run the developer environment</a></li><li><a href="#step-6--pull-hacker-news-api-to-seed-database" class="table-of-contents__link">Step 6.  Pull Hacker News API to seed database</a></li><li><a href="#step-7-access-the-hackernews-url" class="table-of-contents__link">Step 7. Access the HackerNews URL</a></li><li><a href="#how-it-works" class="table-of-contents__link">How it works</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><svg width="785" height="158" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="shape"><defs><path d="M786.344 392.459c-41.822 22.164-258.313 110.84-305.056 135.477-46.742 24.637-72.163 23.812-108.246 6.57-36.082-17.24-267.334-111.664-309.156-131.377-41.822-19.713-42.642-33.657-1.64-49.271C103.25 338.265 332.86 247.94 381.243 229.875c48.383-18.065 65.604-18.065 106.605-2.473 41.003 15.614 256.674 100.996 297.676 115.785 41.002 14.791 42.642 27.912.82 49.273v-.001z" id="a"></path><mask id="b" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="785" height="331" fill="#fff"><use xlink:href="#a"></use></mask></defs><use mask="url(#b)" xlink:href="#a" transform="translate(-32 -216)" stroke="#465282" stroke-width="4" fill="none" fill-rule="evenodd" stroke-dasharray="3.637"></use></svg><img src="/img/code-2.png" class="code" alt=""><div class="row"><div class="col col--3"><div class="footer__logo-ctr"><span class="footer__logo-tagline">Made with &lt;/&gt; by</span><a href="https://redislabs.com/" target="_blank" rel="noopener" class="footerLogoLink_3L_r"><img loading="lazy" class="footer__logo" alt="Redis Labs logo" src="/img/redis-labs-logo-reversed.svg"></a></div></div><div class="col col--9"><div class="row footer__links"><div class="col col--4 footer__col"><h4 class="footer__title">Get Started</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/create/rediscloud">Create Database</a></li><li class="footer__item"><a class="footer__link-item" href="/develop/">Develop</a></li><li class="footer__item"><a class="footer__link-item" href="/explore/redisinsight/">Explore your data</a></li><li class="footer__item"><a href="https://redislabs.com/redis-best-practices/introduction/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Best Practices</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/howtos/redisearch/">Build with Redis Modules</a></li></ul></div><div class="col col--4 footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a href="https://redislabs.com/community/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community</a></li><li class="footer__item"><a href="https://university.redislabs.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Redis University</a></li><li class="footer__item"><a href="https://redis.io/commands" target="_blank" rel="noopener noreferrer" class="footer__link-item">Command Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/howtos/moviesdatabase/getting-started">How-tos &amp; tutorials</a></li></ul></div></div></div></div><div class="footer__copyright">Copyright: Â© 2021 Redis Labs. Redis and the cube logo are registered trademarks of Redis Labs Ltd.</div></div></footer></div>
<script src="/styles.ba7fa6e2.js"></script>
<script src="/runtime~main.563b2fae.js"></script>
<script src="/main.df5e4dd4.js"></script>
<script src="/1.6f699090.js"></script>
<script src="/2.27d5f32c.js"></script>
<script src="/3.557c08ee.js"></script>
<script src="/1be78505.63d2603a.js"></script>
<script src="/935f2afb.25a5b7b9.js"></script>
<script src="/17896441.58e7593c.js"></script>
<script src="/e83211e5.bae35ecf.js"></script>
</body>
</html>